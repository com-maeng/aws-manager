2024-06-15 16:53:15,081 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:53:15,081 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:53:15,081 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:53:15,082 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:53:15,082 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:53:15,082 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:53:15,083 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:53:15,085 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:53:15,087 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:53:15,087 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:53:15,094 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:53:15,094 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:53:15,094 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x105136660>
2024-06-15 16:53:15,095 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x105136660>
2024-06-15 16:53:15,134 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:53:15,134 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:53:15,160 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:53:15,160 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:53:15,161 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:53:15,161 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:53:15,167 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10509fe20>
2024-06-15 16:53:15,167 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10509fe20>
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:53:15,167 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:53:15,171 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:53:15,171 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:53:15,172 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:53:15,172 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:53:15,172 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:53:15,172 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:53:15,201 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:53:15,201 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:53:15,533 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:53:15 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '5ba4bf43982b515db9b3cfdf9916d857', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Ia0H39tQVEk0oyixn0wAAAB4', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-junpiilj, envoy-edge-nrt-okfzxntq', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '182', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-cykr', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:53:15,533 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:53:15 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '61f4380951f67ab812928c358cbb61c1', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Ia23y8VDRwm6HNpywBwAAAAo', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-qmgkcjhu, envoy-edge-nrt-spfqelws', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '172', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-groe', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:53:58,623 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:53:58,624 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:53:58,625 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:53:58,625 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:53:58,626 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:53:58,627 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:53:58,627 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:53:58,628 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:54:03,258 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:54:03,259 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:54:03,259 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:54:03,260 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:54:03,260 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:54:03,261 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:54:03,261 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:54:03,262 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:55:22,411 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:55:22,412 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:55:22,412 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:55:22,412 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:55:22,412 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:55:22,412 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:55:22,412 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:55:22,413 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:55:27,740 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:55:27,740 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:55:27,741 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:55:27,741 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:55:27,742 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:55:27,742 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:55:27,743 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:55:27,743 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:55:44,722 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:55:44,723 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:55:44,724 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:55:44,724 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:55:44,724 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:55:44,725 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:55:44,725 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:55:44,726 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:55:44,726 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:55:44,726 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:55:44,727 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:55:44,727 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:55:44,735 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:55:44,735 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10827e5c0>
2024-06-15 16:55:44,748 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:55:44,758 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:55:44,759 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:55:44,759 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:55:44,760 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:55:44,760 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:55:44,761 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:55:44,761 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:55:44,762 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:55:44,762 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:55:44,762 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:55:44,763 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:55:44,764 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:55:44,771 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:55:44,771 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10787e660>
2024-06-15 16:55:44,774 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:55:44,774 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:55:44,780 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1081e7d80>
2024-06-15 16:55:44,780 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:55:44,780 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:55:44,780 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:55:44,780 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:55:44,780 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:55:44,782 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:55:44,784 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:55:44,785 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:55:44,785 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:55:44,807 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:55:44,808 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:55:44,810 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:55:44,813 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1077e7e20>
2024-06-15 16:55:44,813 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:55:44,813 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:55:44,813 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:55:44,814 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:55:44,814 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:55:44,817 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:55:44,818 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:55:44,818 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:55:44,842 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:55:45,197 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:55:45 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '7cd60e124dd157092ea5a07a0f8cccd0', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1JASD6N4Z_2Now3UsNFQAAACg', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-hsrcqbng, envoy-edge-nrt-qycbqryl', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '162', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-jbjn', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:55:45,209 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:55:45 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '7091bd11a4fab2a38ff3af24841977e0', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1JAXoUmFY7Pon6oDEw3wAAADs', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-ycgewqkt, envoy-edge-nrt-zkicbvqk', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '174', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-qiee', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:55:47,607 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:55:47,608 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:55:47,609 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:55:47,609 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:55:47,610 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:55:47,610 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:55:47,611 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:55:47,611 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:55:59,803 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:55:59,803 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:55:59,804 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:55:59,804 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:55:59,804 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:55:59,804 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:55:59,804 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:55:59,804 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_start'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_start")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-15 16:56:24,949 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:56:24,950 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:56:24,950 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:56:24,951 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:56:24,951 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:56:24,951 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:56:24,952 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:56:24,953 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:56:24,953 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:56:24,953 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:56:24,953 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:56:24,954 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:56:24,962 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:56:24,962 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10325e520>
2024-06-15 16:56:24,974 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:56:24,990 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 16:56:24,991 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 16:56:24,991 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 16:56:24,992 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 16:56:24,992 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 16:56:24,992 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 16:56:24,993 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 16:56:24,994 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 16:56:24,994 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 16:56:24,994 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 16:56:24,994 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 16:56:24,995 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 16:56:25,001 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:56:25,002 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:56:25,003 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 16:56:25,003 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10325e660>
2024-06-15 16:56:25,008 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1031c7ce0>
2024-06-15 16:56:25,008 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:56:25,008 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:56:25,008 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:56:25,008 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:56:25,008 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:56:25,012 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:56:25,013 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:56:25,013 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:56:25,014 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 16:56:25,039 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:56:25,040 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 16:56:25,040 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 16:56:25,046 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1031c7e20>
2024-06-15 16:56:25,046 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 16:56:25,047 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 16:56:25,047 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 16:56:25,047 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 16:56:25,047 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 16:56:25,050 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 16:56:25,051 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 16:56:25,051 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 16:56:25,076 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:56:25,336 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:56:25 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '2cb2a094fff4d7c2960ce125fd1d0885', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1JKX4Edu64B3NU4dC7_gAAACQ', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-eucisabe, envoy-edge-nrt-bszpujxr', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '159', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-mbzr', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:56:25,370 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:56:25 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'd6be1f86b5b7087b1c6137b048a906fc', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1JKZ47QdnVzWLXdyVNgwAAEAk', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-konrxnbr, envoy-edge-nrt-pmpglcrb', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '163', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-fjco', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 16:56:31,736 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:56:31,737 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:56:31,737 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:56:31,738 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:56:31,739 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:56:31,739 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:56:31,739 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:56:31,740 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 16:56:31,741 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1032a9490>>
2024-06-15 16:56:31,741 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (1 millis)
2024-06-15 16:56:31,741 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x103292340>
2024-06-15 16:56:31,742 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 16:56:31,743 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 16:56:31,744 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1032909a0>
2024-06-15 16:56:31,745 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103293e20>
2024-06-15 16:56:31,745 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'is'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x105086950>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 16:56:31,746 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105086910>>
2024-06-15 16:56:31,746 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x103292200>
2024-06-15 16:56:31,747 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 16:56:31,747 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T075631Z

content-type;host;x-amz-date
bb9afd6f98352c3284cb1f02eb0864e9fbadacd04d751e132c0afe058948d610
2024-06-15 16:56:31,747 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T075631Z
20240615/ap-northeast-2/ec2/aws4_request
a0e924a0119d90e0a3019c8b8bbc67155a0c87b306334cde49b4f75013d0b5a8
2024-06-15 16:56:31,747 - DEBUG - auth.py:430 - Signature:
58aa8234bf1b29c14e0005cc32e6419ad89437fdb96b33c82bf635a57365fb80
2024-06-15 16:56:31,748 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032ac680>
2024-06-15 16:56:31,748 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T075631Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=58aa8234bf1b29c14e0005cc32e6419ad89437fdb96b33c82bf635a57365fb80', 'amz-sdk-invocation-id': b'708555e0-f401-43c4-9c46-33331cc8078f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '59'}>
2024-06-15 16:56:31,751 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 16:56:31,751 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 16:56:31,869 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-15 16:56:31,871 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'de14d2c8-452e-4fb0-b95b-20acc71119a9', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Sat, 15 Jun 2024 07:56:31 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-15 16:56:31,871 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "is"</Message></Error></Errors><RequestID>de14d2c8-452e-4fb0-b95b-20acc71119a9</RequestID></Response>'
2024-06-15 16:56:31,885 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10503d6d0>
2024-06-15 16:56:31,886 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 16:56:31,886 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: is | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "is"
2024-06-15 16:56:31,996 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 중지(stopped) 상태일 때만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:56:32,442 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:56:32 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '69d13862b7cdd641864cb322c5d531bc', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1JMOlBRfyldMUS7_XdlgAAECU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1007', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-cbdnokwz, envoy-edge-nrt-vjbsyovv', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '223', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-oejh', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718438192.326669","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718438192.326669","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"rbYoT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-15 16:56:32,443 - INFO - app.py:149 - 중지 상태가 아닌 인스턴스 `/start` 요청 | 인스턴스 상태: 
2024-06-15 16:58:37,493 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:58:37,494 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:58:37,495 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:58:37,496 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:58:37,496 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:58:37,497 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:58:37,498 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:58:37,498 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 16:58:37,499 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1032a9510>>
2024-06-15 16:58:37,500 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (0 millis)
2024-06-15 16:58:37,500 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x103292480>
2024-06-15 16:58:37,501 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 16:58:37,501 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 16:58:37,502 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x103290ae0>
2024-06-15 16:58:37,502 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103293f60>
2024-06-15 16:58:37,502 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0a95b6a342fbc0608'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1050839d0>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 16:58:37,503 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105083990>>
2024-06-15 16:58:37,503 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x103292340>
2024-06-15 16:58:37,504 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 16:58:37,504 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T075837Z

content-type;host;x-amz-date
64026669ef1f05e0198d6f0643b3611689cd88423d966fe0517e71eac6adaf34
2024-06-15 16:58:37,504 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T075837Z
20240615/ap-northeast-2/ec2/aws4_request
1dc2ea79c5e72446e51c57f102d945d4a2f483df26a0b1509ba4ccc20b88d385
2024-06-15 16:58:37,505 - DEBUG - auth.py:430 - Signature:
1a02fe14d6f1286da9ce8f7f79919517aff40ac699e9c9dd7a313eacf8053a94
2024-06-15 16:58:37,505 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032ac7c0>
2024-06-15 16:58:37,505 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T075837Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=1a02fe14d6f1286da9ce8f7f79919517aff40ac699e9c9dd7a313eacf8053a94', 'amz-sdk-invocation-id': b'3c1bd9fa-c88a-4394-b112-531b62858481', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 16:58:37,507 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 16:58:37,507 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 16:58:37,639 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7927
2024-06-15 16:58:37,640 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '387c4302-39ed-4543-9341-61485212b1be', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7927', 'Date': 'Sat, 15 Jun 2024 07:58:36 GMT', 'Server': 'AmazonEC2'}
2024-06-15 16:58:37,641 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>387c4302-39ed-4543-9341-61485212b1be</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0c0a60d175d2a78cd</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0a95b6a342fbc0608</instanceId>\n                    <imageId>ami-0b8414ae0d8d8b4cc</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 00:58:12 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-10T08:26:03.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.10.254</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-063243b103a59f03a</groupId>\n                            <groupName>launch-wizard-13</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/xvda</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/xvda</deviceName>\n                            <ebs>\n                                <volumeId>vol-03faec270920f0941</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-10T08:26:04.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>bd29a61f-b171-41fb-9b31-2a997ff844cc</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>DEV</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0d9296bf5fa885f95</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:b7:76:f6:b9:b3</macAddress>\n                            <privateIpAddress>172.31.10.254</privateIpAddress>\n                            <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-063243b103a59f03a</groupId>\n                                    <groupName>launch-wizard-13</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-008298acfe0051e7f</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-10T08:26:03.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.10.254</privateIpAddress>\n                                    <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-10T08:26:03.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 16:58:37,650 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1049556d0>
2024-06-15 16:58:37,650 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 16:58:37,748 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 16:59:33,711 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:59:33,712 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:59:33,713 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:59:33,714 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:59:33,714 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:59:33,715 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:59:33,715 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:59:33,716 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 16:59:33,716 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1032a9510>>
2024-06-15 16:59:33,717 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x103292480>
2024-06-15 16:59:33,717 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 16:59:33,717 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 16:59:33,718 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x103290ae0>
2024-06-15 16:59:33,718 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103293f60>
2024-06-15 16:59:33,718 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'ididid'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1050839d0>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 16:59:33,719 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105083990>>
2024-06-15 16:59:33,719 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x103292340>
2024-06-15 16:59:33,720 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 16:59:33,720 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T075933Z

content-type;host;x-amz-date
16c8f70bbcc1f57cc1634e3047f658b9f2d8fa72105530f86a79da68d19cc796
2024-06-15 16:59:33,721 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T075933Z
20240615/ap-northeast-2/ec2/aws4_request
e0b9fc618645e876c8542fc5c8890e85a2bbe4af14d1fba854fb4b45d6bee6f3
2024-06-15 16:59:33,721 - DEBUG - auth.py:430 - Signature:
f578245b3a4825aae54bfee4d884b850df3f1c1994033e4b27ed20f19fdc9be9
2024-06-15 16:59:33,721 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032ac7c0>
2024-06-15 16:59:33,722 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T075933Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=f578245b3a4825aae54bfee4d884b850df3f1c1994033e4b27ed20f19fdc9be9', 'amz-sdk-invocation-id': b'8c52a784-0f34-45e9-bf4b-cb78d680140f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '63'}>
2024-06-15 16:59:33,722 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 16:59:33,727 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (11 millis)
2024-06-15 16:59:33,792 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-15 16:59:33,794 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'd79da512-0e47-4453-91e2-35d950cdade2', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Sat, 15 Jun 2024 07:59:32 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-15 16:59:33,794 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "ididid"</Message></Error></Errors><RequestID>d79da512-0e47-4453-91e2-35d950cdade2</RequestID></Response>'
2024-06-15 16:59:33,807 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1049556d0>
2024-06-15 16:59:33,808 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 16:59:33,808 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: ididid | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "ididid"
2024-06-15 16:59:33,883 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 중지(stopped) 상태일 때만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 16:59:34,325 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 07:59:34 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'fc620e8793e7365673aed82782858734', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1J5hvUKPSSaoHdezhWmwAAEB4', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1005', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-lvelexkp, envoy-edge-nrt-gqiqsibc', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '194', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-csva', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718438374.207239","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718438374.207239","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"Qdd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-15 16:59:34,326 - INFO - app.py:149 - 중지 상태가 아닌 인스턴스 `/start` 요청 | 인스턴스 상태: 
2024-06-15 16:59:46,205 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 16:59:46,206 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 16:59:46,206 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 16:59:46,207 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 16:59:46,207 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 16:59:46,208 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 16:59:46,208 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 16:59:46,209 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 16:59:46,209 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1032a9510>>
2024-06-15 16:59:46,210 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x103292480>
2024-06-15 16:59:46,210 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 16:59:46,210 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 16:59:46,211 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x103290ae0>
2024-06-15 16:59:46,212 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103293f60>
2024-06-15 16:59:46,212 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0a95b6a342fbc0608'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1050839d0>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 16:59:46,213 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105083990>>
2024-06-15 16:59:46,213 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x103292340>
2024-06-15 16:59:46,214 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 16:59:46,214 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T075946Z

content-type;host;x-amz-date
64026669ef1f05e0198d6f0643b3611689cd88423d966fe0517e71eac6adaf34
2024-06-15 16:59:46,215 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T075946Z
20240615/ap-northeast-2/ec2/aws4_request
74ad977ee0fd7da61053593babe0f2f481847311ae10faeec5506f4e2c6159f5
2024-06-15 16:59:46,215 - DEBUG - auth.py:430 - Signature:
0f3e3917afd350c754ce5796e0430aeec0edd796f755a84f10fb1daa97f3c77d
2024-06-15 16:59:46,215 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032ac7c0>
2024-06-15 16:59:46,216 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T075946Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=0f3e3917afd350c754ce5796e0430aeec0edd796f755a84f10fb1daa97f3c77d', 'amz-sdk-invocation-id': b'9d830969-2e51-424d-9f9e-9285fa7392f7', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 16:59:46,216 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 16:59:46,217 - DEBUG - connectionpool.py:292 - Resetting dropped connection: ec2.ap-northeast-2.amazonaws.com
2024-06-15 16:59:46,220 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (11 millis)
2024-06-15 16:59:46,354 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7927
2024-06-15 16:59:46,356 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '7ad395e8-d703-410a-acc2-6eef78954f46', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7927', 'Date': 'Sat, 15 Jun 2024 07:59:45 GMT', 'Server': 'AmazonEC2'}
2024-06-15 16:59:46,357 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>7ad395e8-d703-410a-acc2-6eef78954f46</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0c0a60d175d2a78cd</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0a95b6a342fbc0608</instanceId>\n                    <imageId>ami-0b8414ae0d8d8b4cc</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 00:58:12 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-10T08:26:03.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.10.254</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-063243b103a59f03a</groupId>\n                            <groupName>launch-wizard-13</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/xvda</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/xvda</deviceName>\n                            <ebs>\n                                <volumeId>vol-03faec270920f0941</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-10T08:26:04.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>bd29a61f-b171-41fb-9b31-2a997ff844cc</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>DEV</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0d9296bf5fa885f95</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:b7:76:f6:b9:b3</macAddress>\n                            <privateIpAddress>172.31.10.254</privateIpAddress>\n                            <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-063243b103a59f03a</groupId>\n                                    <groupName>launch-wizard-13</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-008298acfe0051e7f</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-10T08:26:03.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.10.254</privateIpAddress>\n                                    <privateDnsName>ip-172-31-10-254.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-10T08:26:03.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 16:59:46,361 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1049556d0>
2024-06-15 16:59:46,361 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 16:59:46,446 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:01:38,142 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:01:38,142 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:01:38,143 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:01:38,143 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:01:38,144 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:01:38,144 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:01:38,144 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:01:38,144 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:01:38,144 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:01:38,145 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:01:38,145 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:01:38,145 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:01:38,145 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:01:38,145 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:01:38,146 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:01:38,146 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:01:38,146 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:01:38,146 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:01:38,147 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:01:38,147 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:01:38,147 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:01:38,147 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:01:38,148 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:01:38,148 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:01:38,156 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:01:38,156 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:01:38,156 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x104a7a660>
2024-06-15 17:01:38,156 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x104a7a520>
2024-06-15 17:01:38,172 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:01:38,172 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:01:38,199 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:01:38,200 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:01:38,200 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:01:38,200 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:01:38,206 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1049e3ce0>
2024-06-15 17:01:38,206 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1049e3e20>
2024-06-15 17:01:38,206 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:01:38,206 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:01:38,206 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:01:38,206 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:01:38,206 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:01:38,207 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:01:38,207 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:01:38,207 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:01:38,207 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:01:38,207 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:01:38,210 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:01:38,210 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:01:38,212 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:01:38,212 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:01:38,212 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:01:38,212 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:01:38,240 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:01:38,240 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:01:38,615 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:01:38 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'db210869e3e7eee5a321295c1ee821d1', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1KYvXLXP2v6Zh2ghw_hwAAAB8', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vtritaqm, envoy-edge-nrt-baubvxzy', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '162', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-hvas', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:01:38,621 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:01:38 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '815f4cd5a9f418df9c19bb6a8821eb9d', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1KYkCaHxsTTNNAbBhWuwAAEDU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-nccytyxx, envoy-edge-nrt-nzfzhpui', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '166', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-tsrw', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:01:48,880 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:01:48,880 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:01:48,881 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:01:48,881 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:01:48,882 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:01:48,882 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:01:48,882 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:01:48,883 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:01:48,884 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x104ac53d0>>
2024-06-15 17:01:48,885 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (1 millis)
2024-06-15 17:01:48,885 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x104aae340>
2024-06-15 17:01:48,887 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:01:48,887 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:01:48,888 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x104aac9a0>
2024-06-15 17:01:48,889 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x104aafe20>
2024-06-15 17:01:48,889 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1068a27d0>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:01:48,889 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1068a2790>>
2024-06-15 17:01:48,890 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x104aae200>
2024-06-15 17:01:48,891 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:01:48,891 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T080148Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:01:48,891 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T080148Z
20240615/ap-northeast-2/ec2/aws4_request
b05bbf8be6f0a1535fcb87b8cc5e901fb2ff0cde8b910ef3a581d413c3df8f20
2024-06-15 17:01:48,892 - DEBUG - auth.py:430 - Signature:
cbb88b7a0f8bd7c38516c01c04d8d87ce08fe9a5649cd663650602d8aed33ae9
2024-06-15 17:01:48,892 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x104ac8680>
2024-06-15 17:01:48,893 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T080148Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=cbb88b7a0f8bd7c38516c01c04d8d87ce08fe9a5649cd663650602d8aed33ae9', 'amz-sdk-invocation-id': b'a068365d-a700-411a-858b-61eec9146b35', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:01:48,895 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:01:48,895 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:01:49,040 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:01:49,042 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'a6906efb-56bf-4989-8af1-7ae7971422de', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:01:48 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:01:49,043 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>a6906efb-56bf-4989-8af1-7ae7971422de</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:01:49,051 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1067e16d0>
2024-06-15 17:01:49,052 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:01:49,150 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:02:11,498 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:02:11,499 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:02:11,500 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:02:11,500 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:02:11,501 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:02:11,501 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:02:11,501 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:02:11,502 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:02:11,502 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:02:11,503 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:02:11,503 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:02:11,504 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:02:11,512 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:02:11,512 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10397e520>
2024-06-15 17:02:11,522 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:02:11,523 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:02:11,523 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:02:11,524 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:02:11,524 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:02:11,525 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:02:11,525 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:02:11,526 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:02:11,526 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:02:11,526 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:02:11,527 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:02:11,527 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:02:11,528 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:02:11,536 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:02:11,536 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1030be660>
2024-06-15 17:02:11,548 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:02:11,554 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:02:11,554 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:02:11,561 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x103727ce0>
2024-06-15 17:02:11,561 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:02:11,561 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:02:11,561 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:02:11,561 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:02:11,562 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:02:11,565 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:02:11,567 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:02:11,567 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:02:11,576 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:02:11,577 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:02:11,584 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x103027e20>
2024-06-15 17:02:11,584 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:02:11,584 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:02:11,584 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:02:11,584 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:02:11,584 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:02:11,588 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:02:11,590 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:02:11,590 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:02:11,596 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:02:11,618 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:02:11,896 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:02:11 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '7a1d16eacb9558704b0de8c2fbb0b3b6', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Kg1nb_LSjmnPQ66AZeQAAECw', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jpejjtff, envoy-edge-nrt-dtrnnxms', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '162', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-mkxy', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:02:11,913 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:02:11 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '500f5dd447f545b6e59b87fa7eccbc53', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Kg75FPmSSScYKT_DDawAAEA8', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-iuxvzenl, envoy-edge-nrt-ezaxxavf', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '159', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-sqoq', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:02:20,920 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:02:20,920 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:02:20,921 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:02:20,921 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:02:20,922 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:02:20,922 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:02:20,923 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:02:20,923 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:02:20,925 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x103109750>>
2024-06-15 17:02:20,925 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (1 millis)
2024-06-15 17:02:20,925 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1030f2480>
2024-06-15 17:02:20,927 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:02:20,928 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:02:20,928 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1030f0ae0>
2024-06-15 17:02:20,929 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1030f3f60>
2024-06-15 17:02:20,929 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x105174990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:02:20,930 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1051cec90>>
2024-06-15 17:02:20,930 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1030f2340>
2024-06-15 17:02:20,931 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:02:20,931 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T080220Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:02:20,932 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T080220Z
20240615/ap-northeast-2/ec2/aws4_request
2bbdc091d4249327e01da235a1a5c57a455319fdcd65faac07f6dc83e8b72016
2024-06-15 17:02:20,932 - DEBUG - auth.py:430 - Signature:
8445c036ad858b2835fdd9053756f4c05831e7d1bbe0981294864e68896451d6
2024-06-15 17:02:20,932 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x10310c7c0>
2024-06-15 17:02:20,933 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T080220Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=8445c036ad858b2835fdd9053756f4c05831e7d1bbe0981294864e68896451d6', 'amz-sdk-invocation-id': b'c0dd67e3-330e-437e-87f1-fff466fff24c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:02:20,935 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:02:20,936 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:02:21,062 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:02:21,064 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'c1e819e4-7534-4d4d-99df-fe2f73fc5153', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:02:20 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:02:21,064 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>c1e819e4-7534-4d4d-99df-fe2f73fc5153</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:02:21,073 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1051d34d0>
2024-06-15 17:02:21,073 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:02:21,171 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '오늘 남은 사용시간은?', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:02:21,597 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:02:21 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '4c4d7768dc7870d1fd0f5adc428fbcae', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1KjX1Ku44NgHwYXJt0rQAAAB0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '850', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-avwfbwjv, envoy-edge-nrt-neqoohcf', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '220', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-jrvk', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718438541.470769","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718438541.470769","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc624\ub298 \ub0a8\uc740 \uc0ac\uc6a9\uc2dc\uac04\uc740?","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"d\/Fsj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc624\ub298 \ub0a8\uc740 \uc0ac\uc6a9\uc2dc\uac04\uc740?"}]}]}]}}
2024-06-15 17:02:21,598 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 157, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:03:06,454 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:03:06,456 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:03:06,457 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:03:06,458 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:03:06,458 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:03:06,458 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:03:06,459 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:03:06,462 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:03:06,462 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:03:06,462 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:03:06,462 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:03:06,464 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:03:06,472 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:03:06,472 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1077bf420>
2024-06-15 17:03:06,490 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:03:06,543 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:03:06,543 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:03:06,555 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1076dbec0>
2024-06-15 17:03:06,555 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:03:06,556 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:03:06,556 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:03:06,556 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:03:06,556 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:03:06,562 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:03:06,564 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:03:06,565 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:03:06,618 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:03:06,942 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:03:06 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'ffa940ac25eef195538991dae3b7f105', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1KujywVHJXvWMGda0TpQAAEAM', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-isdiukql, envoy-edge-nrt-bmrmufie', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '164', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-jrvk', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:03:19,005 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:03:19,007 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:03:19,007 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:03:19,009 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:03:19,009 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:03:19,009 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:03:19,010 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:03:19,012 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:03:19,012 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:03:19,012 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:03:19,012 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:03:19,014 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:03:19,021 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:03:19,021 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10335d4e0>
2024-06-15 17:03:19,036 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:03:19,080 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:03:19,080 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:03:19,090 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x103279f80>
2024-06-15 17:03:19,091 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:03:19,091 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:03:19,091 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:03:19,091 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:03:19,091 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:03:19,097 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:03:19,099 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:03:19,099 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:03:19,160 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:03:19,524 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:03:19 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '51e31b9c9562920ad5a353b53a3755b2', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Kx3502bfz5DxiV2ZysgAAEDQ', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-qlgzjjww, envoy-edge-nrt-ndnhlmsn', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '160', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-kqkf', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:03:38,199 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:03:38,201 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:03:38,201 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:03:38,202 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:03:38,203 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:03:38,203 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:03:38,204 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:03:38,206 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:03:38,206 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:03:38,206 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:03:38,206 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:03:38,208 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:03:38,216 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:03:38,216 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1059f9580>
2024-06-15 17:03:38,230 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:03:38,276 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:03:38,276 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:03:38,287 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x105916020>
2024-06-15 17:03:38,288 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:03:38,288 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:03:38,288 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:03:38,288 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:03:38,288 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:03:38,294 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:03:38,296 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:03:38,296 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:03:38,355 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:03:38,673 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:03:38 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '78ceb9f192b4fb41354cacdc55e6be53', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1K2gUFC9ILSNKv90r44QAAAC4', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-bcxkwikq, envoy-edge-nrt-sderzxvy', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '158', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-emba', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:06:24,267 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:06:24,268 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:06:24,269 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:06:24,270 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:06:24,270 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:06:24,271 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:06:24,272 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:06:24,274 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:06:24,274 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:06:24,274 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:06:24,274 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:06:24,276 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:06:24,284 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:06:24,284 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1031f1580>
2024-06-15 17:06:24,300 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:06:24,347 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:06:24,347 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:06:24,358 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10310e020>
2024-06-15 17:06:24,358 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:06:24,358 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:06:24,358 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:06:24,359 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:06:24,359 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:06:24,365 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:06:24,367 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:06:24,367 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:06:24,428 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:06:24,814 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:06:24 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'fed41b94f1d1ab97fdc148efc4bfb932', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1LgGbkKgHxEVcpq_F53wAAEAU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-kqjonfyt, envoy-edge-nrt-lmeayhlc', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '162', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-roxz', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:06:24,914 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-15 17:06:24,914 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-15 17:07:28,654 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:07:28,655 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:07:28,655 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:07:28,656 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:07:28,656 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:07:28,656 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:07:28,657 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:07:28,657 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:07:28,660 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x103213990>>
2024-06-15 17:07:28,660 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1031f3560>
2024-06-15 17:07:28,661 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:07:28,663 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:07:28,664 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1031f2660>
2024-06-15 17:07:28,664 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103215080>
2024-06-15 17:07:28,664 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'ㅑㅇ'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x104fd3e10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:07:28,666 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105098210>>
2024-06-15 17:07:28,666 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1031f3420>
2024-06-15 17:07:28,668 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:07:28,668 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T080728Z

content-type;host;x-amz-date
8df3429d63d03391c86a096b43c64a6dcb5a1f728d718b1a93d5e6482c27be24
2024-06-15 17:07:28,668 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T080728Z
20240615/ap-northeast-2/ec2/aws4_request
0a2a12c361b7656834c837556b2f7c86bf29c29e9d698c563a110f6639f52af8
2024-06-15 17:07:28,668 - DEBUG - auth.py:430 - Signature:
2117d793d5d2e850c0cb8996aaca9dbab3109e4fab632a979aaf5589c03c91d1
2024-06-15 17:07:28,669 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032158a0>
2024-06-15 17:07:28,669 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T080728Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=2117d793d5d2e850c0cb8996aaca9dbab3109e4fab632a979aaf5589c03c91d1', 'amz-sdk-invocation-id': b'a14d5914-c9a6-4c18-8eef-39c94d03b4d0', 'amz-sdk-request': b'attempt=1', 'Content-Length': '75'}>
2024-06-15 17:07:28,671 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (13 millis)
2024-06-15 17:07:28,673 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:07:28] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:07:28,675 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:07:28,676 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:07:28,805 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-15 17:07:28,806 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '0a5f3f4a-614d-46d5-8a73-b3c0a8c3c049', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Sat, 15 Jun 2024 08:07:28 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-15 17:07:28,806 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "\xe3\x85\x91\xe3\x85\x87"</Message></Error></Errors><RequestID>0a5f3f4a-614d-46d5-8a73-b3c0a8c3c049</RequestID></Response>'
2024-06-15 17:07:28,836 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1050b0310>
2024-06-15 17:07:28,837 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:07:28,837 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: ㅑㅇ | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "ㅑㅇ"
2024-06-15 17:07:28,927 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 중지(stopped) 상태일 때만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:07:29,346 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:07:29 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '0b1a48e5773f1e99ef37760ef8408240', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1LwbLpYpf4MyqOmrgv6QAAADU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1007', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-qdlhpuyk, envoy-edge-nrt-iiweivlg', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '201', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-nzlw', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718438849.218829","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718438849.218829","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"Qyo0H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-15 17:07:29,347 - INFO - app.py:149 - 중지 상태가 아닌 인스턴스 `/start` 요청 | 인스턴스 상태: 
2024-06-15 17:07:42,734 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:07:42,735 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:07:42,735 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:07:42,735 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:07:42,736 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:07:42,736 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:07:42,736 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:07:42,736 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:07:42,737 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x103213990>>
2024-06-15 17:07:42,738 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1031f3560>
2024-06-15 17:07:42,738 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:07:42,738 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:07:42,739 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1031f2660>
2024-06-15 17:07:42,739 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103215080>
2024-06-15 17:07:42,739 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x104fd3e10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:07:42,739 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105098210>>
2024-06-15 17:07:42,740 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1031f3420>
2024-06-15 17:07:42,740 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:07:42,741 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T080742Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:07:42,741 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T080742Z
20240615/ap-northeast-2/ec2/aws4_request
9f08f43ba219f4c5404d4d7916a938832ebda00b83350c47612a8b85c282d7a3
2024-06-15 17:07:42,741 - DEBUG - auth.py:430 - Signature:
ccdef4c12c13fec5b031aa26d040688fef1279bb80e825ff0ebb668e79de4c53
2024-06-15 17:07:42,741 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1032158a0>
2024-06-15 17:07:42,742 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T080742Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=ccdef4c12c13fec5b031aa26d040688fef1279bb80e825ff0ebb668e79de4c53', 'amz-sdk-invocation-id': b'dc07be34-2e40-42b3-9ba3-2bd8e66480d9', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:07:42,742 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:07:42,742 - DEBUG - connectionpool.py:292 - Resetting dropped connection: ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:07:42,749 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-15 17:07:42,750 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:07:42] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:07:42,937 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:07:42,938 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '3f4e6d4a-5916-4e79-b82f-5bbdb7e57516', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:07:42 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:07:42,938 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>3f4e6d4a-5916-4e79-b82f-5bbdb7e57516</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:07:42,944 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1050b0310>
2024-06-15 17:07:42,944 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:15:50,992 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:15:50,993 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:15:50,994 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:15:50,995 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:15:50,995 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:15:50,996 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:15:50,996 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:15:50,998 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:15:50,999 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:15:50,999 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:15:50,999 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:15:51,001 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:15:51,009 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:15:51,009 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1036c9580>
2024-06-15 17:15:51,054 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:15:51,119 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:15:51,120 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:15:51,132 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1035e6020>
2024-06-15 17:15:51,133 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:15:51,133 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:15:51,133 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:15:51,133 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:15:51,134 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:15:51,141 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:15:51,144 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:15:51,144 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:15:51,210 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:15:51,585 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:15:51 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '545c6c741e5d31e5a89ca9d4ad2f70da', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Nt1103WC66n5a-sxrswAAACE', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vjkbhsko, envoy-edge-nrt-nukyvetp', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '168', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-lbfb', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:15:51,705 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-15 17:15:51,705 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-15 17:16:03,020 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:16:03,020 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:16:03,021 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:16:03,021 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:16:03,021 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:16:03,022 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:16:03,022 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:16:03,023 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:16:03,025 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1036ebb50>>
2024-06-15 17:16:03,025 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-15 17:16:03,026 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1036cb560>
2024-06-15 17:16:03,027 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:16:03] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:16:03,028 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:16:03,031 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:16:03,032 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1036ca660>
2024-06-15 17:16:03,032 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1036ed080>
2024-06-15 17:16:03,032 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1054c3f10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:16:03,033 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10556bf10>>
2024-06-15 17:16:03,033 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1036cb420>
2024-06-15 17:16:03,034 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:16:03,035 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T081603Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:16:03,035 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T081603Z
20240615/ap-northeast-2/ec2/aws4_request
4131d2a0381b869581d675aadb541ccd0fe8e7f199149d2f3d8111c3b0e97cab
2024-06-15 17:16:03,035 - DEBUG - auth.py:430 - Signature:
2725599007475b86b90ca4315cc6450c89d2bcbae354f3e1e705fc034762b9ef
2024-06-15 17:16:03,035 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1036ed8a0>
2024-06-15 17:16:03,035 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T081603Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=2725599007475b86b90ca4315cc6450c89d2bcbae354f3e1e705fc034762b9ef', 'amz-sdk-invocation-id': b'7825f3e5-7bf0-4799-a638-e18d781c17bb', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:16:03,041 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:16:03,042 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:16:03,284 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:16:03,287 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '2f3cace9-6503-4943-a60d-448f6fe9d12a', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:16:02 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:16:03,287 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>2f3cace9-6503-4943-a60d-448f6fe9d12a</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:16:03,298 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x105588050>
2024-06-15 17:16:03,299 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:16:15,389 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:16:49,146 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:16:49,148 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:16:49,148 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:16:49,150 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:16:49,150 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:16:49,150 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:16:49,151 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:16:49,153 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:16:49,153 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:16:49,153 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:16:49,153 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:16:49,156 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:16:49,164 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:16:49,164 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1060c5440>
2024-06-15 17:16:49,181 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:16:49,229 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:16:49,229 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:16:49,241 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x105fe1ee0>
2024-06-15 17:16:49,241 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:16:49,241 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:16:49,241 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:16:49,242 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:16:49,242 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:16:49,248 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:16:49,250 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:16:49,250 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:16:49,313 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:16:49,605 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:16:49 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'd01c196911b307798cb8f01dfb3d72e7', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1N8d3SQIyc1r6Nc6JyeAAAABM', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-lnqmjwcr, envoy-edge-nrt-zyfdhnrd', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '160', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-rilk', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:16:49,723 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-15 17:16:49,724 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-15 17:16:58,622 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:16:58,623 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:16:58,623 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:16:58,624 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:16:58,624 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:16:58,624 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:16:58,625 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:16:58,625 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:16:58,627 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1060e7d10>>
2024-06-15 17:16:58,628 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1060c7420>
2024-06-15 17:16:58,629 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:16:58,631 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:16:58,632 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1060c6520>
2024-06-15 17:16:58,632 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1060e8f40>
2024-06-15 17:16:58,633 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x107b58990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:16:58,633 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1102bac90>>
2024-06-15 17:16:58,634 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1060c72e0>
2024-06-15 17:16:58,635 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:16:58,635 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T081658Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:16:58,635 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T081658Z
20240615/ap-northeast-2/ec2/aws4_request
16e0504406f2cc4ca137d410b9218051bd9e77e79db513f5c467160324a1ae9d
2024-06-15 17:16:58,636 - DEBUG - auth.py:430 - Signature:
6a9d9ff7befad883fb540847c6c13f02a511913a0b6151ef49af2c1d75323fb1
2024-06-15 17:16:58,636 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1060e9760>
2024-06-15 17:16:58,636 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T081658Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=6a9d9ff7befad883fb540847c6c13f02a511913a0b6151ef49af2c1d75323fb1', 'amz-sdk-invocation-id': b'dbafb02d-d82b-4706-b09a-76eab4de7a9e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:16:58,639 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (13 millis)
2024-06-15 17:16:58,640 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:16:58] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:16:58,643 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:16:58,644 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:16:58,769 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:16:58,771 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'f813ea85-bd90-47e8-a861-9e7f5119690b', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:16:58 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:16:58,771 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>f813ea85-bd90-47e8-a861-9e7f5119690b</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:16:58,780 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1102c6e10>
2024-06-15 17:16:58,781 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:16:58,886 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:17:45,437 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:17:45,439 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:17:45,440 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:17:45,441 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:17:45,441 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:17:45,442 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:17:45,442 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:17:45,444 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:17:45,444 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:17:45,444 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:17:45,444 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:17:45,447 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:17:45,454 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:17:45,454 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1034dd440>
2024-06-15 17:17:45,470 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:17:45,517 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:17:45,517 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:17:45,528 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1033f9ee0>
2024-06-15 17:17:45,528 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:17:45,528 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:17:45,528 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:17:45,528 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:17:45,528 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:17:45,534 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:17:45,536 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:17:45,536 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:17:45,596 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:17:45,954 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:17:45 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '31e127b4b2f07f7be748c18e975e0729', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1OKaGdYgPY0HZ_4jpLDwAAAAA', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jrlksjku, envoy-edge-nrt-hbwllytz', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '160', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-emws', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:17:46,045 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-15 17:17:46,045 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-15 17:17:58,836 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:17:58,837 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:17:58,837 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:17:58,838 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:17:58,838 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:17:58,838 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:17:58,839 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:17:58,839 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:17:58,842 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1034ffd90>>
2024-06-15 17:17:58,842 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1034df420>
2024-06-15 17:17:58,843 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:17:58,845 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:17:58,846 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1034de520>
2024-06-15 17:17:58,846 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x103500f40>
2024-06-15 17:17:58,847 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x105310990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:17:58,847 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10537fbd0>>
2024-06-15 17:17:58,848 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1034df2e0>
2024-06-15 17:17:58,849 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:17:58,849 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T081758Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:17:58,849 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T081758Z
20240615/ap-northeast-2/ec2/aws4_request
b903df676814e915885729a338778a278e559ed6b248a1d4495e351b9b0228ac
2024-06-15 17:17:58,849 - DEBUG - auth.py:430 - Signature:
d1b96657a0ad83928013180570402a12534c0220446072de07dff5cfbd665981
2024-06-15 17:17:58,850 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x103501760>
2024-06-15 17:17:58,850 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T081758Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=d1b96657a0ad83928013180570402a12534c0220446072de07dff5cfbd665981', 'amz-sdk-invocation-id': b'e0847a7d-be0f-4aec-9838-cd7298b1484e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:17:58,853 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (13 millis)
2024-06-15 17:17:58,854 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:17:58] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:17:58,856 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:17:58,857 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:17:58,996 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:17:58,997 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '1eeec6cb-4a6a-4e36-8487-ff064b67dabd', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:17:58 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:17:58,997 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>1eeec6cb-4a6a-4e36-8487-ff064b67dabd</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:17:59,004 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10538fa50>
2024-06-15 17:17:59,004 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:17:59,096 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: name 'psycopg' is not defined)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 124, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 105, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 65, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^
NameError: name 'psycopg' is not defined
2024-06-15 17:20:14,860 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-15 17:20:14,862 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-15 17:20:14,862 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-15 17:20:14,864 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-15 17:20:14,864 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-15 17:20:14,864 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-15 17:20:14,865 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-15 17:20:14,867 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-15 17:20:14,867 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-15 17:20:14,867 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-15 17:20:14,867 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-15 17:20:14,870 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-15 17:20:14,877 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-15 17:20:14,877 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1071ed440>
2024-06-15 17:20:14,894 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-15 17:20:14,941 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-15 17:20:14,942 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-15 17:20:14,953 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x107109ee0>
2024-06-15 17:20:14,954 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-15 17:20:14,954 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-15 17:20:14,954 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-15 17:20:14,954 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-15 17:20:14,954 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-15 17:20:14,961 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-15 17:20:14,963 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-15 17:20:14,963 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-15 17:20:15,025 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-15 17:20:15,384 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sat, 15 Jun 2024 08:20:15 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'd51147569ec5e359d21374f69b1835ba', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm1Ov71aQSJPk7HUweCx5AAAAAE', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-sgfwqatb, envoy-edge-nrt-xfrjfmqd', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '167', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-lvlg', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-15 17:20:15,496 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-15 17:20:15,496 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-15 17:20:24,139 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-15 17:20:24,140 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-15 17:20:24,140 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-15 17:20:24,141 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-15 17:20:24,141 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-15 17:20:24,141 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-15 17:20:24,142 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-15 17:20:24,142 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-15 17:20:24,145 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10720fc90>>
2024-06-15 17:20:24,145 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1071ef420>
2024-06-15 17:20:24,146 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-15 17:20:24,148 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-15 17:20:24,149 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1071ee520>
2024-06-15 17:20:24,149 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x107210f40>
2024-06-15 17:20:24,149 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-084fc0b41d5a00564'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x109060990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-15 17:20:24,150 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109094310>>
2024-06-15 17:20:24,150 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1071ef2e0>
2024-06-15 17:20:24,152 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-15 17:20:24,152 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240615T082024Z

content-type;host;x-amz-date
4e444dc1bb923d7468d4800e4ceb5704b0a9a9fa944163f3e1818d2360ad1d60
2024-06-15 17:20:24,152 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240615T082024Z
20240615/ap-northeast-2/ec2/aws4_request
5341747b5f2194026c6177e2e5b9768cce74b0865ea9882441309f1c6edf9cbb
2024-06-15 17:20:24,152 - DEBUG - auth.py:430 - Signature:
d58c0b5bf1b5a9eceb9170e0c64eca7b6341024cdb58ebfeeb0ebb5169e3cad7
2024-06-15 17:20:24,152 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x107211760>
2024-06-15 17:20:24,153 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240615T082024Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240615/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=d58c0b5bf1b5a9eceb9170e0c64eca7b6341024cdb58ebfeeb0ebb5169e3cad7', 'amz-sdk-invocation-id': b'a7846c86-cb5c-48c7-9106-6d5dbaa5aa38', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-15 17:20:24,156 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (13 millis)
2024-06-15 17:20:24,157 - INFO - _internal.py:97 - 127.0.0.1 - - [15/Jun/2024 17:20:24] "POST /slack/events HTTP/1.1" 200 -
2024-06-15 17:20:24,160 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-15 17:20:24,160 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-15 17:20:24,290 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7933
2024-06-15 17:20:24,291 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '5b79f727-e399-4cd5-a8ad-b32dd2305780', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7933', 'Date': 'Sat, 15 Jun 2024 08:20:23 GMT', 'Server': 'AmazonEC2'}
2024-06-15 17:20:24,291 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>5b79f727-e399-4cd5-a8ad-b32dd2305780</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0f1bb32b5e679f9c3</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-084fc0b41d5a00564</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-13 09:32:56 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-13T09:32:12.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0af9c1843644fce74</groupId>\n                            <groupName>launch-wizard-14</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-015d95a49afe41656</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:13.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>20e5702b-0f09-494e-87cc-bff326b65e38</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_6_13</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0603d4e1fdb14113a</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:e8:c1:df:97:63</macAddress>\n                            <privateIpAddress>172.31.14.236</privateIpAddress>\n                            <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0af9c1843644fce74</groupId>\n                                    <groupName>launch-wizard-14</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0e0dfefeea4c1d75e</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-13T09:32:12.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.14.236</privateIpAddress>\n                                    <privateDnsName>ip-172-31-14-236.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-13T09:32:12.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-15 17:20:24,298 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1090b0090>
2024-06-15 17:20:24,298 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-15 17:20:24,401 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: connection is bad: connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 125, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(instance_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 106, in calculate_instance_usage
    logs = self.get_today_instance_logs(instance_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 66, in get_today_instance_logs
    with psycopg.connect(  # pylint: disable=not-context-manager
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/psycopg/connection.py", line 748, in connect
    raise last_ex.with_traceback(None)
psycopg.OperationalError: connection is bad: connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
2024-06-16 21:11:23,914 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-16 21:11:23,914 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-16 21:11:23,915 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-16 21:11:23,915 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-16 21:11:23,916 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-16 21:11:23,916 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-16 21:11:23,916 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-16 21:11:23,916 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-16 21:11:23,916 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-16 21:11:23,917 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-16 21:11:23,917 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-16 21:11:23,917 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-16 21:11:23,917 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-16 21:11:23,917 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-16 21:11:23,918 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-16 21:11:23,918 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-16 21:11:23,918 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-16 21:11:23,918 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-16 21:11:23,918 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-16 21:11:23,919 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-16 21:11:23,919 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-16 21:11:23,919 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-16 21:11:23,920 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-16 21:11:23,920 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-16 21:11:23,928 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-16 21:11:23,928 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-16 21:11:23,928 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1045465c0>
2024-06-16 21:11:23,928 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x104546700>
2024-06-16 21:11:23,968 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-16 21:11:23,968 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-16 21:11:23,994 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-16 21:11:23,994 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-16 21:11:23,995 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-16 21:11:23,995 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-16 21:11:24,001 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1044afd80>
2024-06-16 21:11:24,001 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1044afec0>
2024-06-16 21:11:24,001 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-16 21:11:24,001 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-16 21:11:24,001 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-16 21:11:24,001 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-16 21:11:24,001 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-16 21:11:24,002 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-16 21:11:24,002 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-16 21:11:24,002 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-16 21:11:24,002 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-16 21:11:24,002 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-16 21:11:24,005 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-16 21:11:24,005 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-16 21:11:24,007 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-16 21:11:24,007 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-16 21:11:24,007 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-16 21:11:24,007 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-16 21:11:24,036 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-16 21:11:24,036 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-16 21:11:24,345 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sun, 16 Jun 2024 12:11:24 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '711a310f4fe0696224933d492dc46e0e', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm7WbMY_i0rAcZKl1wcsmwAAEAY', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-eicuefoi, envoy-edge-nrt-mrlrtozp', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '167', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-geti', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-16 21:11:24,352 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Sun, 16 Jun 2024 12:11:24 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '279b2cf96139e989a01f093317c9f688', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'Zm7WbMyfsC-eLnIgzN1UOAAAADw', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jqreizpc, envoy-edge-nrt-sderzxvy', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '179', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-qkrf', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-16 21:11:24,429 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x104546700>
2024-06-16 21:11:24,429 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1045465c0>
2024-06-16 21:11:24,432 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1044afd80>
2024-06-16 21:11:24,432 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1044afec0>
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-16 21:11:24,432 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-16 21:11:24,433 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-16 21:11:24,433 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-16 21:11:24,433 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-16 21:11:24,433 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-16 21:11:24,434 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-16 21:11:24,434 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 20:49:05,083 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 20:49:05,085 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 20:49:05,087 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 20:49:05,094 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 20:49:05,098 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 20:49:05,113 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 20:49:05,115 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 20:49:05,118 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 20:49:05,118 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 20:49:05,118 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 20:49:05,118 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 20:49:05,126 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 20:49:05,135 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 20:49:05,136 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1120c5f80>
2024-06-17 20:49:05,178 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 20:49:05,308 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 20:49:05,308 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 20:49:05,322 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x110fe2a20>
2024-06-17 20:49:05,323 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 20:49:05,323 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 20:49:05,323 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 20:49:05,323 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 20:49:05,323 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 20:49:05,330 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 20:49:05,332 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 20:49:05,332 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 20:49:05,401 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 20:49:05,731 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 11:49:05 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'e77c84fb6e269ac03cc85a459fb855da', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAiscdHJs9dctG6EqpRgQAAEC4', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jlqvnjuq, envoy-edge-nrt-iknhqwhh', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '195', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-sbcz', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 20:49:05,831 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 20:49:05,831 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:05:16,557 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:05:16,559 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:05:16,560 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:05:16,561 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:05:16,561 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:05:16,562 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:05:16,562 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:05:16,564 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:05:16,565 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:05:16,565 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:05:16,565 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:05:16,567 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:05:16,575 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:05:16,575 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x107709f80>
2024-06-17 21:05:16,591 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:05:16,640 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:05:16,640 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:05:16,652 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x107626a20>
2024-06-17 21:05:16,652 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:05:16,652 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:05:16,652 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:05:16,652 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:05:16,652 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:05:16,659 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:05:16,661 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:05:16,661 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:05:16,723 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:05:17,034 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:05:17 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'bd3477b711f830bac12a50d9487f6675', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAmfJu_ZuGKi9eQK2lSAAAAAAU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-nmzuwjsu, envoy-edge-nrt-jalmnmul', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '171', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-afif', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:05:17,133 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:05:17,133 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:05:43,641 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:05:43,642 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:05:43,642 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:05:43,643 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:05:43,643 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:05:43,643 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:05:43,644 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:05:43,644 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:05:43,646 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10772fdd0>>
2024-06-17 21:05:43,646 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-17 21:05:43,646 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x10770bf60>
2024-06-17 21:05:43,648 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:05:43] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:05:43,649 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:05:43,651 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:05:43,652 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10770b060>
2024-06-17 21:05:43,653 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x107731a80>
2024-06-17 21:05:43,653 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x108eb4990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:05:43,653 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1095ad910>>
2024-06-17 21:05:43,654 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10770be20>
2024-06-17 21:05:43,655 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:05:43,655 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T120543Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:05:43,655 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T120543Z
20240617/ap-northeast-2/ec2/aws4_request
5d0e117d6a276b24db8b0af744971ceffeb5b962cb806c05880a84349ca0c6be
2024-06-17 21:05:43,655 - DEBUG - auth.py:430 - Signature:
5135eae1f607158e62c0fbf78250b7a396b273619b74c20c4aec68530f91454a
2024-06-17 21:05:43,656 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1077322a0>
2024-06-17 21:05:43,656 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T120543Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=5135eae1f607158e62c0fbf78250b7a396b273619b74c20c4aec68530f91454a', 'amz-sdk-invocation-id': b'319efc80-e043-4f20-8e3e-a2be3fa86ee7', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:05:43,660 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:05:43,661 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:05:43,896 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7921
2024-06-17 21:05:43,896 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'eaec51c4-128e-4bcd-818e-86dce070630d', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7921', 'Date': 'Mon, 17 Jun 2024 12:05:43 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:05:43,896 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>eaec51c4-128e-4bcd-818e-86dce070630d</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:04:52 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-16T13:19:16.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:05:43,900 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1095c1f90>
2024-06-17 21:05:43,900 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:05:43,981 - ERROR - psql_client.py:45 - 쿼리 실행 실패 | column "id" does not exist
LINE 4:                 , id
                          ^
2024-06-17 21:05:43,982 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: column "id" does not exist
LINE 4:                 , id
                          ^)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 134, in handle_start_command
    track, student_id = psql_client.get_track_and_student_id(slack_id)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 84, in get_track_and_student_id
    fetched_data = self._execute_query(query, (slack_id,))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 47, in _execute_query
    raise e
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 40, in _execute_query
    cur.execute(query, params)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/psycopg/cursor.py", line 733, in execute
    raise ex.with_traceback(None)
psycopg.errors.UndefinedColumn: column "id" does not exist
LINE 4:                 , id
                          ^
2024-06-17 21:06:49,163 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:06:49,164 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:06:49,164 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:06:49,165 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:06:49,165 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:06:49,165 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:06:49,165 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:06:49,166 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:06:49,166 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10772fdd0>>
2024-06-17 21:06:49,167 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x10770bf60>
2024-06-17 21:06:49,167 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:06:49,167 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:06:49,168 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10770b060>
2024-06-17 21:06:49,168 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x107731a80>
2024-06-17 21:06:49,168 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x108eb4990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:06:49,168 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1095ad910>>
2024-06-17 21:06:49,168 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10770be20>
2024-06-17 21:06:49,169 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:06:49,169 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T120649Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:06:49,169 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T120649Z
20240617/ap-northeast-2/ec2/aws4_request
f3893b846e43e8205cf898730eb2a49cd96b542a40b278dd69f4fb530de227bd
2024-06-17 21:06:49,169 - DEBUG - auth.py:430 - Signature:
d61684fe35211d93d5d147dbf3317a0f9ef08f70497af01d72dd4a7a241127db
2024-06-17 21:06:49,170 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1077322a0>
2024-06-17 21:06:49,170 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T120649Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=d61684fe35211d93d5d147dbf3317a0f9ef08f70497af01d72dd4a7a241127db', 'amz-sdk-invocation-id': b'612e6e64-1fe1-431d-a9ad-afdb7241d52a', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:06:49,170 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:06:49,179 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:06:49,179 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:06:49] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:06:49,269 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7921
2024-06-17 21:06:49,270 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '1865aa81-d69f-4a94-b875-b281f7213939', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7921', 'Date': 'Mon, 17 Jun 2024 12:06:48 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:06:49,270 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>1865aa81-d69f-4a94-b875-b281f7213939</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:04:52 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-16T13:19:16.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:06:49,272 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1095c1f90>
2024-06-17 21:06:49,272 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:06:49,443 - ERROR - psql_client.py:45 - 쿼리 실행 실패 | column "id" does not exist
LINE 4:                 , id
                          ^
2024-06-17 21:06:49,443 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: column "id" does not exist
LINE 4:                 , id
                          ^)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 134, in handle_start_command
    track, student_id = psql_client.get_track_and_student_id(slack_id)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 84, in get_track_and_student_id
    fetched_data = self._execute_query(query, (slack_id,))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 47, in _execute_query
    raise e
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/psql_client.py", line 40, in _execute_query
    cur.execute(query, params)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/psycopg/cursor.py", line 733, in execute
    raise ex.with_traceback(None)
psycopg.errors.UndefinedColumn: column "id" does not exist
LINE 4:                 , id
                          ^
2024-06-17 21:07:00,920 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:07:00,922 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:07:00,923 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:07:00,924 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:07:00,924 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:07:00,925 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:07:00,925 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:07:00,927 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:07:00,928 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:07:00,928 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:07:00,928 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:07:00,931 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:07:00,938 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:07:00,938 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10536a020>
2024-06-17 21:07:00,954 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:07:01,004 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:07:01,004 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:07:01,016 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x105286ac0>
2024-06-17 21:07:01,016 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:07:01,016 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:07:01,016 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:07:01,016 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:07:01,016 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:07:01,023 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:07:01,025 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:07:01,025 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:07:01,086 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:07:01,384 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:07:01 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '20ed178f55314affed03756a72d006bc', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAm5d55aWeHUtWB_FoP8AAAEBU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-rbofbpyg, envoy-edge-nrt-qfbeessu', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '159', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-aarb', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:07:01,500 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:07:01,500 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:07:05,173 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:07:05,173 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:07:05,174 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:07:05,174 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:07:05,174 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:07:05,174 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:07:05,175 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:07:05,175 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:07:05,178 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10538fcd0>>
2024-06-17 21:07:05,178 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x105390040>
2024-06-17 21:07:05,178 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-17 21:07:05,179 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:07:05,181 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:07:05] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:07:05,183 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:07:05,184 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10536b100>
2024-06-17 21:07:05,184 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x105391b20>
2024-06-17 21:07:05,185 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10717c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:07:05,185 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10720b190>>
2024-06-17 21:07:05,186 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10536bec0>
2024-06-17 21:07:05,187 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:07:05,187 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T120705Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:07:05,187 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T120705Z
20240617/ap-northeast-2/ec2/aws4_request
e915010ea65d9daff3239bcf72a30fd43a0dc5b5b8d7aeed0a253c23b742e2c4
2024-06-17 21:07:05,188 - DEBUG - auth.py:430 - Signature:
a2c56dddae19cbe7996c5d00a4e61bbaf50717b8f761a9a58f1fb7d812198575
2024-06-17 21:07:05,188 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x105392340>
2024-06-17 21:07:05,188 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T120705Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=a2c56dddae19cbe7996c5d00a4e61bbaf50717b8f761a9a58f1fb7d812198575', 'amz-sdk-invocation-id': b'4f8a94fc-cc26-4bb2-9ab5-8bc0766fc792', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:07:05,192 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:07:05,193 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:07:05,328 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7921
2024-06-17 21:07:05,329 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '6587d28c-8580-49a0-9d2c-0e1121ddaea8', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7921', 'Date': 'Mon, 17 Jun 2024 12:07:05 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:07:05,330 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>6587d28c-8580-49a0-9d2c-0e1121ddaea8</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:04:52 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-16T13:19:16.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:07:05,338 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10721f2d0>
2024-06-17 21:07:05,338 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:07:05,543 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10538fcd0>>
2024-06-17 21:07:05,544 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <function generate_idempotent_uuid at 0x105390040>
2024-06-17 21:07:05,544 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:07:05,545 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:07:05,546 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function add_recursion_detection_header at 0x10536b100>
2024-06-17 21:07:05,546 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function inject_api_version_header_if_needed at 0x105391b20>
2024-06-17 21:07:05,546 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StartInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StartInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10717c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:07:05,547 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10720b190>>
2024-06-17 21:07:05,548 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StartInstances: calling handler <function set_operation_specific_signer at 0x10536bec0>
2024-06-17 21:07:05,549 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:07:05,549 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T120705Z

content-type;host;x-amz-date
ad79e83b521ef3383fe5d5af03d48bbd12ce6e7e4d4e0775b90f1512f354c6b3
2024-06-17 21:07:05,549 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T120705Z
20240617/ap-northeast-2/ec2/aws4_request
a15f65138ded5288f8a20c169fca144389f26d67eba845c662dd77a5a6516006
2024-06-17 21:07:05,549 - DEBUG - auth.py:430 - Signature:
850638147d89eefe6f967d3de5eb521a8d669c19be86ace575bb29c7a0274cdb
2024-06-17 21:07:05,549 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <function add_retry_headers at 0x105392340>
2024-06-17 21:07:05,550 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T120705Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=850638147d89eefe6f967d3de5eb521a8d669c19be86ace575bb29c7a0274cdb', 'amz-sdk-invocation-id': b'c60f67fe-bab3-43c5-81be-14b3d070c8fc', 'amz-sdk-request': b'attempt=1', 'Content-Length': '86'}>
2024-06-17 21:07:05,550 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:07:06,255 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:07:06,255 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '1baec1bb-8ea8-49fe-bbcc-c1f6c5495f14', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:07:06 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:07:06,255 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StartInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>1baec1bb-8ea8-49fe-bbcc-c1f6c5495f14</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0b0fc30e309cbda47</instanceId>\n            <currentState>\n                <code>0</code>\n                <name>pending</name>\n            </currentState>\n            <previousState>\n                <code>80</code>\n                <name>stopped</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StartInstancesResponse>\n'
2024-06-17 21:07:06,257 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StartInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10721f2d0>
2024-06-17 21:07:06,257 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:07:06,258 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '\ni-0b0fc30e309cbda47를 시작했습니다.\n\n- 오늘의 잔여 할당량: 6시간 00분 \n- 인스턴스 시작 시간: 2024-06-17 21:07분\n- 인스턴스 최대 사용 시간: 2024-06-18 03:07분\n\n*인스턴스 사용량 초기화는 매일 자정에 진행됩니다.*\n    ', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:07:06,655 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:07:06 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '96b406e4d34b09f3bd2e376ea40f4560', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAm6tGWeIPzaj7kbb0lxQAAAAk', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1689', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-pnmggojz, envoy-edge-nrt-wmbzxyhl', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '241', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-encp', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626026.567299","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626026.567299","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\ni-0b0fc30e309cbda47\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 6\uc2dc\uac04 00\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:07\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:07\ubd84\n\n*\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.*\n    ","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"C3h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i-0b0fc30e309cbda47\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 6\uc2dc\uac04 00\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:07\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:07\ubd84\n\n"},{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.","style":{"bold":true}}]}]}]}}
2024-06-17 21:13:02,096 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:13:02,098 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:13:02,099 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:13:02,100 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:13:02,101 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:13:02,101 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:13:02,102 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:13:02,104 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:13:02,104 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:13:02,104 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:13:02,104 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:13:02,106 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:13:02,115 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:13:02,115 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10b0c6020>
2024-06-17 21:13:02,133 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:13:02,185 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:13:02,185 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:13:02,197 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10afe2ac0>
2024-06-17 21:13:02,198 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:13:02,198 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:13:02,198 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:13:02,198 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:13:02,198 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:13:02,205 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:13:02,206 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:13:02,207 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:13:02,270 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:13:02,580 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:13:02 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'd334f5de9ae4ccb1def40c2be814a83b', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAoTrziWBpY41RLe2QTBAAAAAo', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jfzfeqhx, envoy-edge-nrt-tvayflwm', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '171', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-kfng', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:13:02,680 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:13:02,680 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:13:04,880 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:13:04,880 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:13:04,881 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:13:04,881 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:13:04,881 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:13:04,882 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:13:04,882 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:13:04,883 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:13:04,885 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10b0f4050>>
2024-06-17 21:13:04,885 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-17 21:13:04,885 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x10b0ec040>
2024-06-17 21:13:04,887 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:13:04] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:13:04,888 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:13:04,890 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:13:04,891 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10b0c7100>
2024-06-17 21:13:04,891 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x10b0edb20>
2024-06-17 21:13:04,891 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0cb9eb00bf40b4d65'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10cb18990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:13:04,892 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10d2bc250>>
2024-06-17 21:13:04,892 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10b0c7ec0>
2024-06-17 21:13:04,894 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:13:04,894 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121304Z

content-type;host;x-amz-date
efe8a6021d97a245432b837fa645d528314ddf793a85c0d3c1ce9a5cc09c54b0
2024-06-17 21:13:04,894 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121304Z
20240617/ap-northeast-2/ec2/aws4_request
b46ea40a743a7c84cff59b82c998142e1bae978ade14545d06e7233db04431da
2024-06-17 21:13:04,894 - DEBUG - auth.py:430 - Signature:
f922742c444c1ddd978382a5187c2046043f2d9f626b43a273514888b39c2d5c
2024-06-17 21:13:04,895 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x10b0ee340>
2024-06-17 21:13:04,895 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121304Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=f922742c444c1ddd978382a5187c2046043f2d9f626b43a273514888b39c2d5c', 'amz-sdk-invocation-id': b'175bd15e-2585-4b5b-ae74-471e338ea853', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:13:04,899 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:13:04,900 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:13:05,021 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7927
2024-06-17 21:13:05,022 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'de701ad5-6ad7-468c-bf2d-574e1852f262', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7927', 'Date': 'Mon, 17 Jun 2024 12:13:04 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:13:05,022 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>de701ad5-6ad7-468c-bf2d-574e1852f262</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-000d845a4884b9115</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0cb9eb00bf40b4d65</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:04:52 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-16T13:19:16.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.8.184</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-02c66bba936f18df9</groupId>\n                            <groupName>launch-wizard-17</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-011561b165bf485a1</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:43:24.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>eb053f00-c3f8-4cbe-a756-b0ef39b41e16</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_root</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0583211ab3ba0024f</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:29:4c:98:97:a1</macAddress>\n                            <privateIpAddress>172.31.8.184</privateIpAddress>\n                            <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-02c66bba936f18df9</groupId>\n                                    <groupName>launch-wizard-17</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-093b92be842da07c1</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:43:23.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.8.184</privateIpAddress>\n                                    <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:43:23.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:13:05,031 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10d2d4090>
2024-06-17 21:13:05,031 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:13:05,233 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '자신의 소유의 인스턴스만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:13:05,646 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:13:05 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '54577766f6223ab3989c72bf6e748a70', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAoUb2VznqXbsoa_NCpKwAAEAg', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '973', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-nmosytdc, envoy-edge-nrt-fbyotcon', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '208', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-vbzc', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626385.566209","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626385.566209","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"Hcy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:13:05,647 - INFO - app.py:159 - 자신의 소유가 아닌 인스턴스 `/start` 요청 | slack_id: U0752E0QWGM
2024-06-17 21:13:05,732 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x10b0f4050>>
2024-06-17 21:13:05,733 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <function generate_idempotent_uuid at 0x10b0ec040>
2024-06-17 21:13:05,734 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:13:05,734 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:13:05,735 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function add_recursion_detection_header at 0x10b0c7100>
2024-06-17 21:13:05,735 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function inject_api_version_header_if_needed at 0x10b0edb20>
2024-06-17 21:13:05,736 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StartInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StartInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0cb9eb00bf40b4d65', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10cb18990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:13:05,736 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10d2bc250>>
2024-06-17 21:13:05,737 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StartInstances: calling handler <function set_operation_specific_signer at 0x10b0c7ec0>
2024-06-17 21:13:05,738 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:13:05,738 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121305Z

content-type;host;x-amz-date
975d5b8f190ff96f671a00edee12444fd76a62990a1fd64fad4dfb8e27fe7078
2024-06-17 21:13:05,738 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121305Z
20240617/ap-northeast-2/ec2/aws4_request
23400a7ed1145b3f72f26ad5fc2d3d60aaf43501fc87496e2850f0058d595367
2024-06-17 21:13:05,738 - DEBUG - auth.py:430 - Signature:
b66d12cdce85bb10f85b991e6f7ddceec65999add714f3a42936bc6326ae6ef5
2024-06-17 21:13:05,739 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <function add_retry_headers at 0x10b0ee340>
2024-06-17 21:13:05,739 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121305Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=b66d12cdce85bb10f85b991e6f7ddceec65999add714f3a42936bc6326ae6ef5', 'amz-sdk-invocation-id': b'dcfde10c-a5b0-40ec-b1e8-4f0c23433bbb', 'amz-sdk-request': b'attempt=1', 'Content-Length': '86'}>
2024-06-17 21:13:05,740 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:13:06,403 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:13:06,404 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'b021839d-45c5-4f22-a036-bc0cc7259a73', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:13:05 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:13:06,404 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StartInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>b021839d-45c5-4f22-a036-bc0cc7259a73</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0cb9eb00bf40b4d65</instanceId>\n            <currentState>\n                <code>0</code>\n                <name>pending</name>\n            </currentState>\n            <previousState>\n                <code>80</code>\n                <name>stopped</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StartInstancesResponse>\n'
2024-06-17 21:13:06,406 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StartInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x10d2d4090>
2024-06-17 21:13:06,407 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:13:06,408 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '\ni-0cb9eb00bf40b4d65를 시작했습니다.\n\n- 오늘의 잔여 할당량: 6시간 00분 \n- 인스턴스 시작 시간: 2024-06-17 21:13분\n- 인스턴스 최대 사용 시간: 2024-06-18 03:13분\n\n*인스턴스 사용량 초기화는 매일 자정에 진행됩니다.*\n    ', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:13:06,770 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:13:06 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'e8075f4665c8d25ed807ee471da26f23', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAoUi4cHN_1el2ndkhu7gAAACU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1691', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-linntoyz, envoy-edge-nrt-grcvxemn', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '214', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-emmx', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626386.682519","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626386.682519","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\ni-0cb9eb00bf40b4d65\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 6\uc2dc\uac04 00\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:13\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:13\ubd84\n\n*\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.*\n    ","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"9EeFu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i-0cb9eb00bf40b4d65\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 6\uc2dc\uac04 00\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:13\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:13\ubd84\n\n"},{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.","style":{"bold":true}}]}]}]}}
2024-06-17 21:13:31,807 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:13:31,809 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:13:31,810 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:13:31,811 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:13:31,811 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:13:31,812 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:13:31,812 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:13:31,815 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:13:31,815 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:13:31,815 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:13:31,815 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:13:31,818 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:13:31,825 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:13:31,826 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1053c6020>
2024-06-17 21:13:31,841 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:13:31,890 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:13:31,891 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:13:31,902 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1052e2ac0>
2024-06-17 21:13:31,903 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:13:31,903 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:13:31,903 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:13:31,903 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:13:31,903 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:13:31,909 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:13:31,911 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:13:31,911 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:13:31,973 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:13:32,500 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:13:32 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '82f04e3c4ed5ac56e43dec651d8969dc', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAobGcTPUO_93-NiYp83gAAEDg', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-acafebph, envoy-edge-nrt-bdscdhok', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '322', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-paeq', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:13:32,626 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:13:32,626 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:13:40,484 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:13:40,484 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:13:40,484 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:13:40,484 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:13:40,484 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:13:40,485 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:13:40,485 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:13:40,485 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:13:40,486 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1053f4110>>
2024-06-17 21:13:40,486 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1053ec040>
2024-06-17 21:13:40,487 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:13:40,488 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:13:40,489 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1053c7100>
2024-06-17 21:13:40,489 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1053edb20>
2024-06-17 21:13:40,489 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0aa0e991d7f26c339'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x106d1c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:13:40,489 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1074b6cd0>>
2024-06-17 21:13:40,489 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1053c7ec0>
2024-06-17 21:13:40,490 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:13:40,490 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121340Z

content-type;host;x-amz-date
93156e820ba1989dfa38f3e44a4e16230024dfcc15df307d797fdd6a673d348b
2024-06-17 21:13:40,491 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121340Z
20240617/ap-northeast-2/ec2/aws4_request
a1337c9314742a89e2fdbc0f89e970bd246340956c0ffd794a2046213703d326
2024-06-17 21:13:40,491 - DEBUG - auth.py:430 - Signature:
022f4a72ce90b32536872b24767c8f4de465a23faae6e635150ce924486d3f43
2024-06-17 21:13:40,491 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1053ee340>
2024-06-17 21:13:40,491 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121340Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=022f4a72ce90b32536872b24767c8f4de465a23faae6e635150ce924486d3f43', 'amz-sdk-invocation-id': b'9ffb5aa6-b983-4b6f-bf0c-c98f0583cb8f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:13:40,494 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:13:40,494 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:13:40,498 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:13:40,499 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:13:40] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:13:40,636 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7920
2024-06-17 21:13:40,637 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '8e45ecee-fe8e-4495-9e29-d408186986b4', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7920', 'Date': 'Mon, 17 Jun 2024 12:13:39 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:13:40,637 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>8e45ecee-fe8e-4495-9e29-d408186986b4</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0892547116492fa0d</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0aa0e991d7f26c339</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-43-93.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-10 01:22:15 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-10T01:21:30.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2c</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>enabled</state>\n                    </monitoring>\n                    <subnetId>subnet-01ed3fdf52803588a</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.43.93</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0ca8548904a2f4f6f</groupId>\n                            <groupName>launch-wizard-3</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-043f88efa68397c69</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-05-20T03:03:57.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>c807f8ab-57b7-472e-9f87-7b8813b8fad6</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test2</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0c8e03946b344c4dc</networkInterfaceId>\n                            <subnetId>subnet-01ed3fdf52803588a</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>0a:98:fa:29:c3:d3</macAddress>\n                            <privateIpAddress>172.31.43.93</privateIpAddress>\n                            <privateDnsName>ip-172-31-43-93.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0ca8548904a2f4f6f</groupId>\n                                    <groupName>launch-wizard-3</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-02d1e159340f74d8d</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-05-20T03:03:57.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.43.93</privateIpAddress>\n                                    <privateDnsName>ip-172-31-43-93.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-05-20T03:03:57.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:13:40,644 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1074c6e10>
2024-06-17 21:13:40,644 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:13:40,819 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: list index out of range)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 156, in handle_start_command
    instance_onwer = psql_client.get_slack_id_by_instance(instance_id)[0][0]
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range
2024-06-17 21:14:44,714 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:14:44,715 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:14:44,715 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:14:44,715 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:14:44,715 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:14:44,715 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:14:44,716 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:14:44,716 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1053f4110>>
2024-06-17 21:14:44,716 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1053ec040>
2024-06-17 21:14:44,716 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:14:44,717 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:14:44,717 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1053c7100>
2024-06-17 21:14:44,717 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1053edb20>
2024-06-17 21:14:44,717 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x106d1c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:14:44,718 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1074b6cd0>>
2024-06-17 21:14:44,718 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1053c7ec0>
2024-06-17 21:14:44,718 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:14:44,718 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121444Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:14:44,719 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121444Z
20240617/ap-northeast-2/ec2/aws4_request
bf926bf70aff16c0c7f319e098d64a8267910e5d5c51ae7018b3ab496206eec6
2024-06-17 21:14:44,719 - DEBUG - auth.py:430 - Signature:
10e2ca77830265d5e36d4dd102ecd0d964b53c359f91b6164b8d0ed8a3400d4b
2024-06-17 21:14:44,719 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1053ee340>
2024-06-17 21:14:44,719 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121444Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=10e2ca77830265d5e36d4dd102ecd0d964b53c359f91b6164b8d0ed8a3400d4b', 'amz-sdk-invocation-id': b'da79d0a8-b299-474b-b3c0-36ac9f5a44a2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:14:44,720 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:14:44,728 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:14:44,729 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:14:44] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:14:44,862 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 None
2024-06-17 21:14:44,862 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '547ec763-8b36-4743-82d8-f0e6c23e35ca', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:14:43 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:14:44,863 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>547ec763-8b36-4743-82d8-f0e6c23e35ca</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>16</code>\n                        <name>running</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</dnsName>\n                    <reason/>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:07:06.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <ipAddress>13.209.85.18</ipAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <association>\n                                <publicIp>13.209.85.18</publicIp>\n                                <publicDnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                <ipOwnerId>amazon</ipOwnerId>\n                            </association>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                    <association>\n                                        <publicIp>13.209.85.18</publicIp>\n                                        <publicDnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                        <ipOwnerId>amazon</ipOwnerId>\n                                    </association>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:14:44,866 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1074c6e10>
2024-06-17 21:14:44,866 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:14:45,121 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '직전에 시작 요청을 했던 인스턴스만 중지할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:14:45,509 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:14:45 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '373b13caf21b42659be5ba9c6ee7371e', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAotSs-W3xw5wcuxQF9UAAAADg', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1027', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-uaywhodk, envoy-edge-nrt-crzwbwjk', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '213', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-tbso', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626485.412199","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626485.412199","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc9c1\uc804\uc5d0 \uc2dc\uc791 \uc694\uccad\uc744 \ud588\ub358 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"lDW4K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc9c1\uc804\uc5d0 \uc2dc\uc791 \uc694\uccad\uc744 \ud588\ub358 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:14:45,511 - INFO - app.py:87 - 직전에 시작을 요청한 인스턴스와 다른 인스턴에 대한 인스턴스 `/stop` 요청 | 인스턴스 ID: i-0b0fc30e309cbda47
2024-06-17 21:16:03,769 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:16:03,771 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:16:03,771 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:16:03,773 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:16:03,773 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:16:03,773 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:16:03,774 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:16:03,778 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:16:03,778 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:16:03,778 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:16:03,779 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:16:03,782 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:16:03,795 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:16:03,795 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x106f2e0c0>
2024-06-17 21:16:03,827 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:16:03,885 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:16:03,886 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:16:03,898 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x106e4ab60>
2024-06-17 21:16:03,898 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:16:03,898 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:16:03,899 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:16:03,899 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:16:03,899 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:16:03,905 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:16:03,907 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:16:03,908 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:16:03,970 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:16:04,334 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:16:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '00be9b4478db4e5e98550187f5504a6f', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnApBLgdwpEHHjbJC6Z7JAAAACE', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-xielbukv, envoy-edge-nrt-apkcqubg', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '157', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-fzmy', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:16:04,414 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:16:04,414 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:16:12,422 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:16:12,422 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:16:12,423 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:16:12,423 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:16:12,423 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:16:12,423 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:16:12,424 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:16:12,426 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x106f53d50>>
2024-06-17 21:16:12,427 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x106f540e0>
2024-06-17 21:16:12,428 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:16:12,430 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:16:12,431 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x106f2f1a0>
2024-06-17 21:16:12,431 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x106f55bc0>
2024-06-17 21:16:12,431 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x111224990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:16:12,432 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1112c0050>>
2024-06-17 21:16:12,432 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x106f2ff60>
2024-06-17 21:16:12,434 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:16:12,434 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121612Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:16:12,434 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121612Z
20240617/ap-northeast-2/ec2/aws4_request
f4062f8d6dba8d64c13b655ec20a471f21e0168235704a3146332286c2677893
2024-06-17 21:16:12,434 - DEBUG - auth.py:430 - Signature:
79f52c117670a453550a16ce66243a411c42c14938cbc843cb2c95803a689828
2024-06-17 21:16:12,434 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x106f563e0>
2024-06-17 21:16:12,435 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121612Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=79f52c117670a453550a16ce66243a411c42c14938cbc843cb2c95803a689828', 'amz-sdk-invocation-id': b'46f9c80d-6893-439d-aee6-b2cfbd3de3b1', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:16:12,439 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:16:12,439 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (14 millis)
2024-06-17 21:16:12,440 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:16:12,441 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:16:12] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:16:12,676 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 None
2024-06-17 21:16:12,679 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '49c05446-fa61-4f98-809a-6c3d9eb10ecc', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:16:12 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:16:12,679 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>49c05446-fa61-4f98-809a-6c3d9eb10ecc</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>16</code>\n                        <name>running</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</dnsName>\n                    <reason/>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:07:06.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <ipAddress>13.209.85.18</ipAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <association>\n                                <publicIp>13.209.85.18</publicIp>\n                                <publicDnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                <ipOwnerId>amazon</ipOwnerId>\n                            </association>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                    <association>\n                                        <publicIp>13.209.85.18</publicIp>\n                                        <publicDnsName>ec2-13-209-85-18.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                        <ipOwnerId>amazon</ipOwnerId>\n                                    </association>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:16:12,690 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1112c7d50>
2024-06-17 21:16:12,690 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:16:12,887 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x106f53d50>>
2024-06-17 21:16:12,888 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <function generate_idempotent_uuid at 0x106f540e0>
2024-06-17 21:16:12,888 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:16:12,889 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:16:12,890 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function add_recursion_detection_header at 0x106f2f1a0>
2024-06-17 21:16:12,890 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function inject_api_version_header_if_needed at 0x106f55bc0>
2024-06-17 21:16:12,891 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StopInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StopInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x111224990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:16:12,891 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1112c0050>>
2024-06-17 21:16:12,892 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StopInstances: calling handler <function set_operation_specific_signer at 0x106f2ff60>
2024-06-17 21:16:12,893 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:16:12,893 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121612Z

content-type;host;x-amz-date
74d9d5477cd8716680050787dd470d8f8fe10c5c8a3d0eb7c0f4ad63450e06c8
2024-06-17 21:16:12,893 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121612Z
20240617/ap-northeast-2/ec2/aws4_request
485f7ca7cc8db9981b51200ff74bafec0e8fdd3731a615c4f753492e90cb07ff
2024-06-17 21:16:12,893 - DEBUG - auth.py:430 - Signature:
ffa133c67026c388abb488623d903abbd452ed13fbf1bf482fe6abf86b581fc1
2024-06-17 21:16:12,894 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <function add_retry_headers at 0x106f563e0>
2024-06-17 21:16:12,895 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121612Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=ffa133c67026c388abb488623d903abbd452ed13fbf1bf482fe6abf86b581fc1', 'amz-sdk-invocation-id': b'5ad13204-bc17-41c7-ba93-b805e20823f0', 'amz-sdk-request': b'attempt=1', 'Content-Length': '85'}>
2024-06-17 21:16:12,895 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:16:13,281 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:16:13,282 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'e1eba50f-2564-4016-ae63-426277d234f9', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:16:12 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:16:13,282 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StopInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>e1eba50f-2564-4016-ae63-426277d234f9</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0b0fc30e309cbda47</instanceId>\n            <currentState>\n                <code>64</code>\n                <name>stopping</name>\n            </currentState>\n            <previousState>\n                <code>16</code>\n                <name>running</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StopInstancesResponse>\n'
2024-06-17 21:16:13,283 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StopInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1112c7d50>
2024-06-17 21:16:13,283 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:16:13,283 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: unsupported operand type(s) for -: 'str' and 'str')
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 85, in handle_stop_command
    remaining_time = instance_usage_manager.get_remaining_time(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 55, in get_remaining_time
    total_usage_time = self.calculate_instance_usage(logs)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/client/instance_usage_manager.py", line 44, in calculate_instance_usage
    usage_time = stop_time - start_time
                 ~~~~~~~~~~^~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'str'
2024-06-17 21:18:54,214 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:18:54,216 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:18:54,216 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:18:54,218 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:18:54,218 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:18:54,218 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:18:54,219 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:18:54,221 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:18:54,221 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:18:54,221 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:18:54,221 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:18:54,224 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:18:54,232 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:18:54,232 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1031c6020>
2024-06-17 21:18:54,249 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:18:54,300 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:18:54,301 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:18:54,312 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1030e2ac0>
2024-06-17 21:18:54,313 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:18:54,313 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:18:54,313 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:18:54,313 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:18:54,313 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:18:54,320 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:18:54,321 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:18:54,322 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:18:54,386 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:18:54,741 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:18:54 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '93ac49e6bdd89d0510d9dad9ad85756e', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAprta5wjF9l3RqR7MXEQAAEA0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-gclxteef, envoy-edge-nrt-wytonhbd', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '167', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-rofw', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:18:54,844 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:18:54,844 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:19:03,997 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:19:03,997 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:19:03,998 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:19:03,998 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:19:03,998 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:19:03,999 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:19:03,999 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:19:04,002 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1031ebf10>>
2024-06-17 21:19:04,002 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-17 21:19:04,002 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1031ec040>
2024-06-17 21:19:04,004 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:19:04] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:19:04,005 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:19:04,007 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:19:04,008 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1031c7100>
2024-06-17 21:19:04,008 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1031edb20>
2024-06-17 21:19:04,008 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0cb9eb00bf40b4d65'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10540c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:19:04,009 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054b7a10>>
2024-06-17 21:19:04,009 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1031c7ec0>
2024-06-17 21:19:04,011 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:19:04,011 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121904Z

content-type;host;x-amz-date
efe8a6021d97a245432b837fa645d528314ddf793a85c0d3c1ce9a5cc09c54b0
2024-06-17 21:19:04,011 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121904Z
20240617/ap-northeast-2/ec2/aws4_request
a3accc5edda1744f5e7b8be842a9763fa0e01cf57afcb1089cd4a12c3667a70b
2024-06-17 21:19:04,011 - DEBUG - auth.py:430 - Signature:
3b149b29a470b2eab113ae533b449309e2c3545d6f3e66766ff0a42b85c02c14
2024-06-17 21:19:04,011 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1031ee340>
2024-06-17 21:19:04,012 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121904Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=3b149b29a470b2eab113ae533b449309e2c3545d6f3e66766ff0a42b85c02c14', 'amz-sdk-invocation-id': b'b899b651-8ffd-46e2-b9b7-3b138c5127d2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:19:04,016 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:19:04,017 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:19:04,218 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 None
2024-06-17 21:19:04,220 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '236dbf3e-ecbe-496e-a815-f606b2b558fb', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:19:03 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:19:04,221 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>236dbf3e-ecbe-496e-a815-f606b2b558fb</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-000d845a4884b9115</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0cb9eb00bf40b4d65</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>16</code>\n                        <name>running</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName>ec2-43-201-53-88.ap-northeast-2.compute.amazonaws.com</dnsName>\n                    <reason/>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:13:06.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.8.184</privateIpAddress>\n                    <ipAddress>43.201.53.88</ipAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-02c66bba936f18df9</groupId>\n                            <groupName>launch-wizard-17</groupName>\n                        </item>\n                    </groupSet>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-011561b165bf485a1</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:43:24.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>eb053f00-c3f8-4cbe-a756-b0ef39b41e16</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>test_root</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-0583211ab3ba0024f</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:29:4c:98:97:a1</macAddress>\n                            <privateIpAddress>172.31.8.184</privateIpAddress>\n                            <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-02c66bba936f18df9</groupId>\n                                    <groupName>launch-wizard-17</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-093b92be842da07c1</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:43:23.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <association>\n                                <publicIp>43.201.53.88</publicIp>\n                                <publicDnsName>ec2-43-201-53-88.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                <ipOwnerId>amazon</ipOwnerId>\n                            </association>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.8.184</privateIpAddress>\n                                    <privateDnsName>ip-172-31-8-184.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                    <association>\n                                        <publicIp>43.201.53.88</publicIp>\n                                        <publicDnsName>ec2-43-201-53-88.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                        <ipOwnerId>amazon</ipOwnerId>\n                                    </association>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:43:23.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:19:04,231 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1054cbc90>
2024-06-17 21:19:04,231 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:19:04,505 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '자신의 소유의 인스턴스만 종료할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:19:04,914 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:19:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'd0f7ad35dc207da9bf7d1a97fb6f312d', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnApuDYQwn5Cjywiy4bxKQAAAC0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '973', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-fosmexar, envoy-edge-nrt-oszterrx', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '213', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-akid', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626744.789539","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626744.789539","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc885\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"Dq2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc885\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:19:04,916 - INFO - app.py:78 - 자신의 소유가 아닌 인스턴스 `/stop` 요청 | slack_id: U0752E0QWGM
2024-06-17 21:19:22,628 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:19:22,629 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:19:22,629 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:19:22,629 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:19:22,629 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:19:22,630 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:19:22,630 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:19:22,631 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1031ebf10>>
2024-06-17 21:19:22,631 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1031ec040>
2024-06-17 21:19:22,631 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:19:22,631 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:19:22,632 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1031c7100>
2024-06-17 21:19:22,632 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1031edb20>
2024-06-17 21:19:22,633 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10540c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:19:22,633 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054b7a10>>
2024-06-17 21:19:22,633 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1031c7ec0>
2024-06-17 21:19:22,634 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:19:22,634 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T121922Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:19:22,634 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T121922Z
20240617/ap-northeast-2/ec2/aws4_request
4caa3311072290b98f7fa45cc9e1381813e4aac21c12139f25f5cb2e3c370982
2024-06-17 21:19:22,634 - DEBUG - auth.py:430 - Signature:
237b2cbdb3d3ff31ce81b9ae77f1a4c78747883cef9e26ab8c2877be154efa12
2024-06-17 21:19:22,635 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1031ee340>
2024-06-17 21:19:22,635 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T121922Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=237b2cbdb3d3ff31ce81b9ae77f1a4c78747883cef9e26ab8c2877be154efa12', 'amz-sdk-invocation-id': b'4841e5a7-4865-4149-9a6f-2a7ca40f4882', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:19:22,635 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:19:22,641 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (11 millis)
2024-06-17 21:19:22,642 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:19:22] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:19:22,845 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7921
2024-06-17 21:19:22,846 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '7daab9e2-ad4c-4deb-93c0-61cf167bd0b6', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7921', 'Date': 'Mon, 17 Jun 2024 12:19:22 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:19:22,846 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>7daab9e2-ad4c-4deb-93c0-61cf167bd0b6</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:16:13 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:07:06.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:19:22,851 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1054cbc90>
2024-06-17 21:19:22,851 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:19:22,938 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 시작(running) 상태일 때만 중지할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:19:23,485 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:19:23 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'bffb73de260e39800ac6cd30a581f643', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnApy-YR0JsBA75d9HzcTAAAEBw', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1006', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-feyjlawv, envoy-edge-nrt-eexoakvz', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '393', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-egyh', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626763.395779","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626763.395779","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc2dc\uc791(running) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"msMa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc2dc\uc791(running) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:19:23,486 - INFO - app.py:67 - 시작 상태가 아닌 인스턴스 `/stop` 요청 | 인스턴스 상태: stopped
2024-06-17 21:20:29,495 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:20:29,496 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:20:29,496 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:20:29,497 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:20:29,497 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:20:29,497 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:20:29,497 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:20:29,498 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1031ebf10>>
2024-06-17 21:20:29,498 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1031ec040>
2024-06-17 21:20:29,498 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:20:29,498 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:20:29,499 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1031c7100>
2024-06-17 21:20:29,499 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1031edb20>
2024-06-17 21:20:29,499 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10540c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:20:29,500 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054b7a10>>
2024-06-17 21:20:29,500 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1031c7ec0>
2024-06-17 21:20:29,501 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:20:29,501 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T122029Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:20:29,501 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T122029Z
20240617/ap-northeast-2/ec2/aws4_request
ed7d9ac598a7c7ddf0d7eeaf6b282e91b80744f4d95aeca9831d81b6662b10d9
2024-06-17 21:20:29,501 - DEBUG - auth.py:430 - Signature:
1222e6bc06c26643bd1553af00797ed80f0a1d45fb34accf6becf64c1703e520
2024-06-17 21:20:29,501 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1031ee340>
2024-06-17 21:20:29,502 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T122029Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=1222e6bc06c26643bd1553af00797ed80f0a1d45fb34accf6becf64c1703e520', 'amz-sdk-invocation-id': b'594d2153-48c0-4c8c-abc3-9668009efb39', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:20:29,502 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:20:29,510 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:20:29,511 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:20:29] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:20:29,640 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 None
2024-06-17 21:20:29,640 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'ade591e7-10d7-49a2-adb8-5ba794682b8f', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:20:29 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:20:29,640 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>ade591e7-10d7-49a2-adb8-5ba794682b8f</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>16</code>\n                        <name>running</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName>ec2-13-125-163-19.ap-northeast-2.compute.amazonaws.com</dnsName>\n                    <reason/>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:19:45.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <ipAddress>13.125.163.19</ipAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <association>\n                                <publicIp>13.125.163.19</publicIp>\n                                <publicDnsName>ec2-13-125-163-19.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                <ipOwnerId>amazon</ipOwnerId>\n                            </association>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                    <association>\n                                        <publicIp>13.125.163.19</publicIp>\n                                        <publicDnsName>ec2-13-125-163-19.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                        <ipOwnerId>amazon</ipOwnerId>\n                                    </association>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:20:29,642 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1054cbc90>
2024-06-17 21:20:29,642 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:20:29,803 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1031ebf10>>
2024-06-17 21:20:29,804 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <function generate_idempotent_uuid at 0x1031ec040>
2024-06-17 21:20:29,805 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:20:29,805 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:20:29,807 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function add_recursion_detection_header at 0x1031c7100>
2024-06-17 21:20:29,807 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function inject_api_version_header_if_needed at 0x1031edb20>
2024-06-17 21:20:29,807 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StopInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StopInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x10540c990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:20:29,808 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1054b7a10>>
2024-06-17 21:20:29,808 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StopInstances: calling handler <function set_operation_specific_signer at 0x1031c7ec0>
2024-06-17 21:20:29,809 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:20:29,809 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T122029Z

content-type;host;x-amz-date
74d9d5477cd8716680050787dd470d8f8fe10c5c8a3d0eb7c0f4ad63450e06c8
2024-06-17 21:20:29,810 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T122029Z
20240617/ap-northeast-2/ec2/aws4_request
e86328847f76c1e48f2ff56a4b36575f47fddb1a4bc018ba86e5ba0f0fc9db42
2024-06-17 21:20:29,810 - DEBUG - auth.py:430 - Signature:
a4b45fd22653683ad06f7f601b7bb27774683871e7129d4305e933a36fc68112
2024-06-17 21:20:29,810 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <function add_retry_headers at 0x1031ee340>
2024-06-17 21:20:29,811 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T122029Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=a4b45fd22653683ad06f7f601b7bb27774683871e7129d4305e933a36fc68112', 'amz-sdk-invocation-id': b'8cf655ba-07b3-4eaf-989d-d8b07dd3ddb8', 'amz-sdk-request': b'attempt=1', 'Content-Length': '85'}>
2024-06-17 21:20:29,811 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:20:30,206 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:20:30,207 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '95693295-202a-4ac3-b93b-c8d0be19294b', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:20:29 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:20:30,208 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StopInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>95693295-202a-4ac3-b93b-c8d0be19294b</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0b0fc30e309cbda47</instanceId>\n            <currentState>\n                <code>64</code>\n                <name>stopping</name>\n            </currentState>\n            <previousState>\n                <code>16</code>\n                <name>running</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StopInstancesResponse>\n'
2024-06-17 21:20:30,210 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StopInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1054cbc90>
2024-06-17 21:20:30,211 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:20:30,299 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '\ni-0b0fc30e309cbda47를 종료했습니다.\n\n- 오늘의 잔여 할당량: 5시간 46분 \n- 인스턴스 종료 시간: 2024-06-17 21:20분\n\n*인스턴스 사용량 초기화는 매일 자정에 진행됩니다.*\n    ', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:20:30,828 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:20:30 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'e2df52ebbb1bda62a0dc933a7b76dd44', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAqDpSrVpcMMTUfHdp4egAAECs', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1508', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vjtldvaw, envoy-edge-nrt-wytonhbd', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '226', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-ydnv', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718626830.677869","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718626830.677869","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\ni-0b0fc30e309cbda47\ub97c \uc885\ub8cc\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 46\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc885\ub8cc \uc2dc\uac04: 2024-06-17 21:20\ubd84\n\n*\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.*\n    ","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"jmbj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i-0b0fc30e309cbda47\ub97c \uc885\ub8cc\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 46\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc885\ub8cc \uc2dc\uac04: 2024-06-17 21:20\ubd84\n\n"},{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.","style":{"bold":true}}]}]}]}}
2024-06-17 21:35:06,641 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:35:06,643 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:35:06,643 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:35:06,645 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:35:06,645 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:35:06,645 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:35:06,646 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:35:06,648 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:35:06,648 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:35:06,648 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:35:06,648 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:35:06,651 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:35:06,659 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:35:06,659 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x106ac6020>
2024-06-17 21:35:06,698 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:35:06,746 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:35:06,746 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:35:06,758 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1068e2ac0>
2024-06-17 21:35:06,758 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:35:06,759 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:35:06,759 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:35:06,759 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:35:06,759 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:35:06,766 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:35:06,768 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:35:06,768 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:35:06,829 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:35:07,146 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:35:07 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '2103a1ae2ad84553c3ffe51ce7ec51c6', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAtey2FCdg5rjA0lTRnegAAEAw', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-eqsnmijh, envoy-edge-nrt-sasacsqp', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '176', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-control-main-iad-whgi', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:35:07,230 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:35:07,230 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:35:09,525 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:35:09,526 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:35:09,526 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:35:09,526 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:35:09,526 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:35:09,526 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:35:09,526 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:35:09,526 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:35:09,527 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x106aebd90>>
2024-06-17 21:35:09,527 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x106aec040>
2024-06-17 21:35:09,528 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:35:09,528 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (1 millis)
2024-06-17 21:35:09,529 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:35:09] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:35:09,529 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:35:09,530 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x106ac7100>
2024-06-17 21:35:09,530 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x106aedb20>
2024-06-17 21:35:09,530 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x118c38990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:35:09,530 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x118cb76d0>>
2024-06-17 21:35:09,531 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x106ac7ec0>
2024-06-17 21:35:09,531 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:35:09,531 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T123509Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:35:09,531 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T123509Z
20240617/ap-northeast-2/ec2/aws4_request
e079615b12a1e3a8c130e4b97003f99d884027699c2d308c11b12208cb43e302
2024-06-17 21:35:09,531 - DEBUG - auth.py:430 - Signature:
01dc59ed3fd4a617d5bc96b01d34088add9670f680a133543ea0db55dafe45e8
2024-06-17 21:35:09,531 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x106aee340>
2024-06-17 21:35:09,532 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T123509Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=01dc59ed3fd4a617d5bc96b01d34088add9670f680a133543ea0db55dafe45e8', 'amz-sdk-invocation-id': b'cedacd46-03c5-4118-bd07-bfc0f301b7d0', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:35:09,533 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:35:09,534 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:35:09,722 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 7921
2024-06-17 21:35:09,723 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'ecea6641-7f3d-485e-a6f4-07cc5defe2e4', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '7921', 'Date': 'Mon, 17 Jun 2024 12:35:09 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:35:09,723 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>ecea6641-7f3d-485e-a6f4-07cc5defe2e4</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>80</code>\n                        <name>stopped</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName/>\n                    <reason>User initiated (2024-06-17 12:20:30 GMT)</reason>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:19:45.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <stateReason>\n                        <code>Client.UserInitiatedShutdown</code>\n                        <message>Client.UserInitiatedShutdown: User initiated shutdown</message>\n                    </stateReason>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:35:09,731 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x118ccf690>
2024-06-17 21:35:09,732 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:35:09,975 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x106aebd90>>
2024-06-17 21:35:09,976 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StartInstances: calling handler <function generate_idempotent_uuid at 0x106aec040>
2024-06-17 21:35:09,977 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:35:09,977 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:35:09,979 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function add_recursion_detection_header at 0x106ac7100>
2024-06-17 21:35:09,979 - DEBUG - hooks.py:238 - Event before-call.ec2.StartInstances: calling handler <function inject_api_version_header_if_needed at 0x106aedb20>
2024-06-17 21:35:09,979 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StartInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StartInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x118c38990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:35:09,980 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x118cb76d0>>
2024-06-17 21:35:09,980 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StartInstances: calling handler <function set_operation_specific_signer at 0x106ac7ec0>
2024-06-17 21:35:09,981 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:35:09,982 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T123509Z

content-type;host;x-amz-date
ad79e83b521ef3383fe5d5af03d48bbd12ce6e7e4d4e0775b90f1512f354c6b3
2024-06-17 21:35:09,982 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T123509Z
20240617/ap-northeast-2/ec2/aws4_request
7d7f5edc4a4b05f5d16ddaa3a2cb3b8c75aa6e0392b2823fcfb8d7ed0daf00c5
2024-06-17 21:35:09,982 - DEBUG - auth.py:430 - Signature:
923b1cf1537bc56369a1122fb5b977987f471e23c180bd817218b58ff9ace106
2024-06-17 21:35:09,983 - DEBUG - hooks.py:238 - Event request-created.ec2.StartInstances: calling handler <function add_retry_headers at 0x106aee340>
2024-06-17 21:35:09,983 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T123509Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=923b1cf1537bc56369a1122fb5b977987f471e23c180bd817218b58ff9ace106', 'amz-sdk-invocation-id': b'3f0c4a3f-b891-4411-9475-fc8602130aba', 'amz-sdk-request': b'attempt=1', 'Content-Length': '86'}>
2024-06-17 21:35:09,984 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:35:10,649 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:35:10,651 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'c67ae812-ffa2-41ab-883d-c1a3b6e54908', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:35:10 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:35:10,651 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StartInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>c67ae812-ffa2-41ab-883d-c1a3b6e54908</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0b0fc30e309cbda47</instanceId>\n            <currentState>\n                <code>0</code>\n                <name>pending</name>\n            </currentState>\n            <previousState>\n                <code>80</code>\n                <name>stopped</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StartInstancesResponse>\n'
2024-06-17 21:35:10,654 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StartInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x118ccf690>
2024-06-17 21:35:10,654 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:35:10,656 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '\ni-0b0fc30e309cbda47를 시작했습니다.\n\n- 오늘의 잔여 할당량: 5시간 46분 \n- 인스턴스 시작 시간: 2024-06-17 21:35분\n- 인스턴스 최대 사용 시간: 2024-06-18 03:21분\n\n*인스턴스 사용량 초기화는 매일 자정에 진행됩니다.*\n    ', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:35:11,073 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:35:11 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '8f6cc4a3a4c0965b6eb16deba3ed90e5', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAtfs3Un4y89BHlv4fLqAAAEDA', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1690', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-tfvjhwle, envoy-edge-nrt-slyxhzyd', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '215', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-ruli', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718627710.991839","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718627710.991839","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\ni-0b0fc30e309cbda47\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 46\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:35\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:21\ubd84\n\n*\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.*\n    ","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"ccbm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i-0b0fc30e309cbda47\ub97c \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 46\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc2dc\uac04: 2024-06-17 21:35\ubd84\n- \uc778\uc2a4\ud134\uc2a4 \ucd5c\ub300 \uc0ac\uc6a9 \uc2dc\uac04: 2024-06-18 03:21\ubd84\n\n"},{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.","style":{"bold":true}}]}]}]}}
2024-06-17 21:40:44,019 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:40:44,021 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:40:44,022 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:40:44,023 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:40:44,023 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:40:44,024 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:40:44,024 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:40:44,026 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:40:44,026 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:40:44,027 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:40:44,027 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:40:44,029 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:40:44,037 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:40:44,037 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10586a0c0>
2024-06-17 21:40:44,052 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:40:44,103 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:40:44,103 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:40:44,114 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x105786b60>
2024-06-17 21:40:44,115 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:40:44,115 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:40:44,115 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:40:44,115 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:40:44,115 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:40:44,122 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:40:44,123 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:40:44,124 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:40:44,183 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:40:44,499 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:40:44 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'f07e8e533740b169a794361f5ef5d3a1', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAuzMC-A_2ckmO9F1oXvwAAAAM', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-canary-iad-bojzxhsj, envoy-edge-nrt-ndnhlmsn', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '166', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-tafj', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:40:44,588 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:40:44,588 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:44:15,713 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:44:15,714 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:44:15,715 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:44:15,716 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:44:15,716 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:44:15,717 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:44:15,717 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:44:15,719 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:44:15,719 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:44:15,720 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:44:15,720 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:44:15,722 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:44:15,730 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:44:15,730 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10755dee0>
2024-06-17 21:44:15,762 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:44:15,808 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:44:15,808 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:44:15,819 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10747a980>
2024-06-17 21:44:15,820 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:44:15,820 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:44:15,820 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:44:15,820 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:44:15,820 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:44:15,827 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:44:15,829 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:44:15,829 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:44:15,889 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:44:16,191 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:44:16 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '3a7dec2d0faa4ba0d7d155888e7ad104', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAvoLlpY-iN2sU40489VgAAECE', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-cwxbitcc, envoy-edge-nrt-tsnlcfct', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '164', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-egiy', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:44:16,295 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:44:16,295 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:44:22,795 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:44:22,796 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:44:22,796 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:44:22,796 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:44:22,797 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:44:22,797 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:44:22,798 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:44:22,800 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x107583c50>>
2024-06-17 21:44:22,800 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (2 millis)
2024-06-17 21:44:22,800 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x10755fec0>
2024-06-17 21:44:22,802 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:44:22] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:44:22,803 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:44:22,805 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:44:22,806 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10755efc0>
2024-06-17 21:44:22,807 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1075859e0>
2024-06-17 21:44:22,807 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x108479b10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:44:22,807 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109403b90>>
2024-06-17 21:44:22,808 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10755fd80>
2024-06-17 21:44:22,809 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:44:22,809 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124422Z

content-type;host;x-amz-date
07bc370831b3fd64cb8dc227e8b37bad81a0c2da2b8e281c53a302fda274d168
2024-06-17 21:44:22,810 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124422Z
20240617/ap-northeast-2/ec2/aws4_request
717934e2b9ffd0420bc09d8b58788bfee80e44d4c4ef5455242926c07d97873f
2024-06-17 21:44:22,810 - DEBUG - auth.py:430 - Signature:
4c373234603e9dd36667786d5f7886291e4c3f52c1553830f2e9816ae5bc7c3f
2024-06-17 21:44:22,810 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x107586200>
2024-06-17 21:44:22,810 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124422Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=4c373234603e9dd36667786d5f7886291e4c3f52c1553830f2e9816ae5bc7c3f', 'amz-sdk-invocation-id': b'2b96a65b-98a9-4d77-ac4d-be7072fd7ec2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '76'}>
2024-06-17 21:44:22,815 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:44:22,815 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:44:23,077 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 None
2024-06-17 21:44:23,078 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '77ae9cbf-3c88-45ee-a4ac-252620058150', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:44:22 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:44:23,078 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<DescribeInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>77ae9cbf-3c88-45ee-a4ac-252620058150</requestId>\n    <reservationSet>\n        <item>\n            <reservationId>r-0dd89d25c3923f61f</reservationId>\n            <ownerId>941622718487</ownerId>\n            <groupSet/>\n            <instancesSet>\n                <item>\n                    <instanceId>i-0b0fc30e309cbda47</instanceId>\n                    <imageId>ami-0e6f2b2fa0ca704d0</imageId>\n                    <instanceState>\n                        <code>16</code>\n                        <name>running</name>\n                    </instanceState>\n                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                    <dnsName>ec2-43-202-2-238.ap-northeast-2.compute.amazonaws.com</dnsName>\n                    <reason/>\n                    <keyName>yoonjae_key</keyName>\n                    <amiLaunchIndex>0</amiLaunchIndex>\n                    <productCodes/>\n                    <instanceType>t2.micro</instanceType>\n                    <launchTime>2024-06-17T12:35:10.000Z</launchTime>\n                    <placement>\n                        <availabilityZone>ap-northeast-2a</availabilityZone>\n                        <groupName/>\n                        <tenancy>default</tenancy>\n                    </placement>\n                    <monitoring>\n                        <state>disabled</state>\n                    </monitoring>\n                    <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                    <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                    <ipAddress>43.202.2.238</ipAddress>\n                    <sourceDestCheck>true</sourceDestCheck>\n                    <groupSet>\n                        <item>\n                            <groupId>sg-0280d1fee276453af</groupId>\n                            <groupName>launch-wizard-16</groupName>\n                        </item>\n                    </groupSet>\n                    <architecture>x86_64</architecture>\n                    <rootDeviceType>ebs</rootDeviceType>\n                    <rootDeviceName>/dev/sda1</rootDeviceName>\n                    <blockDeviceMapping>\n                        <item>\n                            <deviceName>/dev/sda1</deviceName>\n                            <ebs>\n                                <volumeId>vol-034618ea9bde396dc</volumeId>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                            </ebs>\n                        </item>\n                    </blockDeviceMapping>\n                    <virtualizationType>hvm</virtualizationType>\n                    <clientToken>66287a60-d9b3-44b8-b408-a4b87c5074dd</clientToken>\n                    <tagSet>\n                        <item>\n                            <key>Name</key>\n                            <value>full_test</value>\n                        </item>\n                    </tagSet>\n                    <hypervisor>xen</hypervisor>\n                    <networkInterfaceSet>\n                        <item>\n                            <networkInterfaceId>eni-000482488d4d41010</networkInterfaceId>\n                            <subnetId>subnet-08aa19c0926f3b3e3</subnetId>\n                            <vpcId>vpc-0549ef5da888e13e3</vpcId>\n                            <description/>\n                            <ownerId>941622718487</ownerId>\n                            <status>in-use</status>\n                            <macAddress>02:0c:03:07:87:71</macAddress>\n                            <privateIpAddress>172.31.0.98</privateIpAddress>\n                            <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                            <sourceDestCheck>true</sourceDestCheck>\n                            <groupSet>\n                                <item>\n                                    <groupId>sg-0280d1fee276453af</groupId>\n                                    <groupName>launch-wizard-16</groupName>\n                                </item>\n                            </groupSet>\n                            <attachment>\n                                <attachmentId>eni-attach-0475702a2268e4aa6</attachmentId>\n                                <deviceIndex>0</deviceIndex>\n                                <status>attached</status>\n                                <attachTime>2024-06-16T12:32:47.000Z</attachTime>\n                                <deleteOnTermination>true</deleteOnTermination>\n                                <networkCardIndex>0</networkCardIndex>\n                            </attachment>\n                            <association>\n                                <publicIp>43.202.2.238</publicIp>\n                                <publicDnsName>ec2-43-202-2-238.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                <ipOwnerId>amazon</ipOwnerId>\n                            </association>\n                            <privateIpAddressesSet>\n                                <item>\n                                    <privateIpAddress>172.31.0.98</privateIpAddress>\n                                    <privateDnsName>ip-172-31-0-98.ap-northeast-2.compute.internal</privateDnsName>\n                                    <primary>true</primary>\n                                    <association>\n                                        <publicIp>43.202.2.238</publicIp>\n                                        <publicDnsName>ec2-43-202-2-238.ap-northeast-2.compute.amazonaws.com</publicDnsName>\n                                        <ipOwnerId>amazon</ipOwnerId>\n                                    </association>\n                                </item>\n                            </privateIpAddressesSet>\n                            <ipv6AddressesSet/>\n                            <interfaceType>interface</interfaceType>\n                        </item>\n                    </networkInterfaceSet>\n                    <ebsOptimized>false</ebsOptimized>\n                    <enaSupport>true</enaSupport>\n                    <cpuOptions>\n                        <coreCount>1</coreCount>\n                        <threadsPerCore>1</threadsPerCore>\n                    </cpuOptions>\n                    <capacityReservationSpecification>\n                        <capacityReservationPreference>open</capacityReservationPreference>\n                    </capacityReservationSpecification>\n                    <hibernationOptions>\n                        <configured>false</configured>\n                    </hibernationOptions>\n                    <enclaveOptions>\n                        <enabled>false</enabled>\n                    </enclaveOptions>\n                    <metadataOptions>\n                        <state>applied</state>\n                        <httpTokens>required</httpTokens>\n                        <httpPutResponseHopLimit>2</httpPutResponseHopLimit>\n                        <httpEndpoint>enabled</httpEndpoint>\n                        <httpProtocolIpv4>enabled</httpProtocolIpv4>\n                        <httpProtocolIpv6>disabled</httpProtocolIpv6>\n                        <instanceMetadataTags>disabled</instanceMetadataTags>\n                    </metadataOptions>\n                    <maintenanceOptions>\n                        <autoRecovery>default</autoRecovery>\n                    </maintenanceOptions>\n                    <bootMode>uefi-preferred</bootMode>\n                    <currentInstanceBootMode>legacy-bios</currentInstanceBootMode>\n                    <platformDetails>Linux/UNIX</platformDetails>\n                    <usageOperation>RunInstances</usageOperation>\n                    <usageOperationUpdateTime>2024-06-16T12:32:47.000Z</usageOperationUpdateTime>\n                    <privateDnsNameOptions>\n                        <hostnameType>ip-name</hostnameType>\n                        <enableResourceNameDnsARecord>true</enableResourceNameDnsARecord>\n                        <enableResourceNameDnsAAAARecord>false</enableResourceNameDnsAAAARecord>\n                    </privateDnsNameOptions>\n                </item>\n            </instancesSet>\n        </item>\n    </reservationSet>\n</DescribeInstancesResponse>'
2024-06-17 21:44:23,085 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x109417d90>
2024-06-17 21:44:23,085 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:44:23,259 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x107583c50>>
2024-06-17 21:44:23,260 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.StopInstances: calling handler <function generate_idempotent_uuid at 0x10755fec0>
2024-06-17 21:44:23,261 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:44:23,261 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:44:23,263 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function add_recursion_detection_header at 0x10755efc0>
2024-06-17 21:44:23,263 - DEBUG - hooks.py:238 - Event before-call.ec2.StopInstances: calling handler <function inject_api_version_header_if_needed at 0x1075859e0>
2024-06-17 21:44:23,264 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=StopInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'StopInstances', 'Version': '2016-11-15', 'InstanceId.1': 'i-0b0fc30e309cbda47', 'DryRun': 'false'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x108479b10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:44:23,265 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109403b90>>
2024-06-17 21:44:23,265 - DEBUG - hooks.py:238 - Event choose-signer.ec2.StopInstances: calling handler <function set_operation_specific_signer at 0x10755fd80>
2024-06-17 21:44:23,266 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:44:23,266 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124423Z

content-type;host;x-amz-date
74d9d5477cd8716680050787dd470d8f8fe10c5c8a3d0eb7c0f4ad63450e06c8
2024-06-17 21:44:23,266 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124423Z
20240617/ap-northeast-2/ec2/aws4_request
1f231da5520026280838f0110209955d780e969727db7782294f8a2a5e0cf60a
2024-06-17 21:44:23,267 - DEBUG - auth.py:430 - Signature:
85883f21ce56949da6b669aea868bfee12870dba33a45ece94f445e6e1f5231d
2024-06-17 21:44:23,267 - DEBUG - hooks.py:238 - Event request-created.ec2.StopInstances: calling handler <function add_retry_headers at 0x107586200>
2024-06-17 21:44:23,268 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124423Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=85883f21ce56949da6b669aea868bfee12870dba33a45ece94f445e6e1f5231d', 'amz-sdk-invocation-id': b'879df59e-9d33-4580-9cac-a573b499c20d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '85'}>
2024-06-17 21:44:23,269 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:44:23,653 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 200 579
2024-06-17 21:44:23,655 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'b615fe0a-a2bf-4ad2-9826-90c8639184a2', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Content-Type': 'text/xml;charset=UTF-8', 'Content-Length': '579', 'Date': 'Mon, 17 Jun 2024 12:44:23 GMT', 'Server': 'AmazonEC2'}
2024-06-17 21:44:23,656 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<StopInstancesResponse xmlns="http://ec2.amazonaws.com/doc/2016-11-15/">\n    <requestId>b615fe0a-a2bf-4ad2-9826-90c8639184a2</requestId>\n    <instancesSet>\n        <item>\n            <instanceId>i-0b0fc30e309cbda47</instanceId>\n            <currentState>\n                <code>64</code>\n                <name>stopping</name>\n            </currentState>\n            <previousState>\n                <code>16</code>\n                <name>running</name>\n            </previousState>\n        </item>\n    </instancesSet>\n</StopInstancesResponse>\n'
2024-06-17 21:44:23,659 - DEBUG - hooks.py:238 - Event needs-retry.ec2.StopInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x109417d90>
2024-06-17 21:44:23,659 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:44:23,749 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '\ni-0b0fc30e309cbda47를 종료했습니다.\n\n- 오늘의 잔여 할당량: 5시간 37분 \n- 인스턴스 종료 시간: 2024-06-17 21:44분\n\n*인스턴스 사용량 초기화는 매일 자정에 진행됩니다.*\n    ', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:44:24,189 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:44:24 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'c1dcd411bfd3cae073b176b137080d4c', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAvqIBm21YloTqcvjiMzgAAECI', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1509', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-zkdtoqbn, envoy-edge-nrt-eprcxten', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '197', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-uowt', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718628264.073079","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718628264.073079","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\ni-0b0fc30e309cbda47\ub97c \uc885\ub8cc\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 37\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc885\ub8cc \uc2dc\uac04: 2024-06-17 21:44\ubd84\n\n*\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.*\n    ","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"hQgM=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i-0b0fc30e309cbda47\ub97c \uc885\ub8cc\ud588\uc2b5\ub2c8\ub2e4.\n\n- \uc624\ub298\uc758 \uc794\uc5ec \ud560\ub2f9\ub7c9: 5\uc2dc\uac04 37\ubd84 \n- \uc778\uc2a4\ud134\uc2a4 \uc885\ub8cc \uc2dc\uac04: 2024-06-17 21:44\ubd84\n\n"},{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4 \uc0ac\uc6a9\ub7c9 \ucd08\uae30\ud654\ub294 \ub9e4\uc77c \uc790\uc815\uc5d0 \uc9c4\ud589\ub429\ub2c8\ub2e4.","style":{"bold":true}}]}]}]}}
2024-06-17 21:46:42,112 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:46:42,113 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:46:42,114 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:46:42,114 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:46:42,114 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:46:42,114 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:46:42,114 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:46:42,115 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:46:42,115 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x107583c50>>
2024-06-17 21:46:42,116 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x10755fec0>
2024-06-17 21:46:42,116 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:46:42,116 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:46:42,117 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x10755efc0>
2024-06-17 21:46:42,117 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1075859e0>
2024-06-17 21:46:42,117 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'ㅑㅇ'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x108479b10>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:46:42,118 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109403b90>>
2024-06-17 21:46:42,118 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x10755fd80>
2024-06-17 21:46:42,119 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:46:42,119 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124642Z

content-type;host;x-amz-date
8df3429d63d03391c86a096b43c64a6dcb5a1f728d718b1a93d5e6482c27be24
2024-06-17 21:46:42,119 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124642Z
20240617/ap-northeast-2/ec2/aws4_request
0706753409458a5b3744b5ae84cdfc2a3d06dbda4b5eb52b38620e1bcc4b5b68
2024-06-17 21:46:42,119 - DEBUG - auth.py:430 - Signature:
e68d260036d609d7f14f6e463851d59393943cc1007efe79c381311cc88dfb9a
2024-06-17 21:46:42,120 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x107586200>
2024-06-17 21:46:42,120 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124642Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=e68d260036d609d7f14f6e463851d59393943cc1007efe79c381311cc88dfb9a', 'amz-sdk-invocation-id': b'f8974ad1-192d-4147-8e2e-26bc86721fd4', 'amz-sdk-request': b'attempt=1', 'Content-Length': '75'}>
2024-06-17 21:46:42,121 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:46:42,121 - DEBUG - connectionpool.py:292 - Resetting dropped connection: ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:46:42,127 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:46:42,128 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:46:42] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:46:42,364 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-17 21:46:42,365 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '6bb583da-1def-4e7c-aab6-7c49c3b89244', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:46:41 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-17 21:46:42,365 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "\xe3\x85\x91\xe3\x85\x87"</Message></Error></Errors><RequestID>6bb583da-1def-4e7c-aab6-7c49c3b89244</RequestID></Response>'
2024-06-17 21:46:42,394 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x109417d90>
2024-06-17 21:46:42,394 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:46:42,395 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: ㅑㅇ | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "ㅑㅇ"
2024-06-17 21:46:42,480 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 중지(stopped) 상태일 때만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:46:42,889 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:46:42 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '6f4d34a08a4f36b03f3eca603a807b6c', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAwMnlHmoA4pQ5w8IQrJgAAABc', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1008', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vejlwdcc, envoy-edge-nrt-wruyafyk', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '203', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-iqlb', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718628402.716809","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718628402.716809","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"b\/BC+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc911\uc9c0(stopped) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:46:42,890 - INFO - app.py:138 - 중지 상태가 아닌 인스턴스 `/start` 요청 | 인스턴스 상태: 
2024-06-17 21:48:57,760 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:48:57,762 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:48:57,762 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:48:57,764 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:48:57,764 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:48:57,764 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:48:57,765 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:48:57,767 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:48:57,767 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:48:57,767 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:48:57,767 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:48:57,770 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:48:57,777 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:48:57,778 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1058bde40>
2024-06-17 21:48:57,798 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:48:57,843 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:48:57,843 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:48:57,854 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1057da8e0>
2024-06-17 21:48:57,855 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:48:57,855 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:48:57,855 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:48:57,855 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:48:57,855 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:48:57,861 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:48:57,863 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:48:57,863 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:48:57,924 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:48:59,099 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:48:58 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '2bf3b2f25ee6ee116e0bd676325765b6', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAwuoOYNwUlGUbylqCeCgAAADc', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vmvvcwxx, envoy-edge-nrt-jqfbfboa', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '164', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-pyqs', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:48:59,224 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:48:59,225 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:49:05,413 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:49:05,413 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:49:05,414 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:49:05,414 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:49:05,414 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:49:05,415 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:49:05,415 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:49:05,416 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:49:05,418 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x1058e3dd0>>
2024-06-17 21:49:05,418 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x1058bfe20>
2024-06-17 21:49:05,419 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:49:05,421 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (5 millis)
2024-06-17 21:49:05,423 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:49:05] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:49:05,423 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:49:05,424 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x1058bef20>
2024-06-17 21:49:05,425 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x1058e5940>
2024-06-17 21:49:05,425 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'ID'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x1076e0990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:49:05,426 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1076a7e90>>
2024-06-17 21:49:05,426 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x1058bfce0>
2024-06-17 21:49:05,427 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:49:05,427 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124905Z

content-type;host;x-amz-date
5f92c07edcc3cd2ef2fdefee04985c4dfe8a24e46b23b41737214bbcdfa53c90
2024-06-17 21:49:05,427 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124905Z
20240617/ap-northeast-2/ec2/aws4_request
32c590ae40875dc584a29f4db3b7add2167bc646a8a445a56e04b074e7df2786
2024-06-17 21:49:05,428 - DEBUG - auth.py:430 - Signature:
45754319c63d5f825378dc4e1dde4e545657a6e261026be5760a41342f09a4d0
2024-06-17 21:49:05,428 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x1058e6160>
2024-06-17 21:49:05,428 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124905Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=45754319c63d5f825378dc4e1dde4e545657a6e261026be5760a41342f09a4d0', 'amz-sdk-invocation-id': b'53193120-787c-41f2-bf6e-466b29cbc157', 'amz-sdk-request': b'attempt=1', 'Content-Length': '59'}>
2024-06-17 21:49:05,434 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:49:05,435 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:49:05,610 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-17 21:49:05,612 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'b88d4ac4-7e45-4777-ac86-87cb1f34c588', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:49:04 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-17 21:49:05,613 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "ID"</Message></Error></Errors><RequestID>b88d4ac4-7e45-4777-ac86-87cb1f34c588</RequestID></Response>'
2024-06-17 21:49:05,648 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x107777f90>
2024-06-17 21:49:05,648 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:49:05,649 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: ID | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "ID"
2024-06-17 21:49:05,819 - ERROR - listener_error_handler.py:67 - Failed to run listener function (error: 'NoneType' object is not subscriptable)
Traceback (most recent call last):
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/thread_runner.py", line 120, in run_ack_function_asynchronously
    listener.run_ack_function(request=request, response=response)
  File "/Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/slack_bolt/listener/custom_listener.py", line 50, in run_ack_function
    return self.ack_function(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/b04/Desktop/yoonjae/aws-manager/app.py", line 136, in handle_start_command
    instance_onwer = psql_client.get_slack_id_by_instance(instance_id)[0][0]
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
TypeError: 'NoneType' object is not subscriptable
2024-06-17 21:49:24,829 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 21:49:24,830 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 21:49:24,831 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 21:49:24,833 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 21:49:24,833 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 21:49:24,833 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 21:49:24,834 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 21:49:24,836 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 21:49:24,836 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 21:49:24,836 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 21:49:24,836 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 21:49:24,839 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 21:49:24,846 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 21:49:24,846 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x107a19e40>
2024-06-17 21:49:24,863 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 21:49:24,916 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 21:49:24,916 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 21:49:24,928 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x1079368e0>
2024-06-17 21:49:24,928 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 21:49:24,928 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 21:49:24,928 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 21:49:24,928 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 21:49:24,928 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 21:49:24,935 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 21:49:24,937 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 21:49:24,937 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 21:49:25,001 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:49:25,312 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:49:25 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'e9f8e01d0864d1c2b9d4674cc35eda43', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAw1Q88mZh8lL36-BJROwAAEB0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-savaasds, envoy-edge-nrt-kyypfcua', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '177', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-jyhr', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 21:49:25,388 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 21:49:25,388 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-17 21:49:28,153 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:49:28,154 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:49:28,154 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:49:28,154 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:49:28,155 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:49:28,155 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:49:28,156 - DEBUG - app.py:533 - Checking listener: handle_start_command ...
2024-06-17 21:49:28,156 - DEBUG - app.py:555 - Running listener: handle_start_command ...
2024-06-17 21:49:28,158 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x107a3fbd0>>
2024-06-17 21:49:28,159 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x107a1be20>
2024-06-17 21:49:28,160 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:49:28,161 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:49:28,163 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x107a1af20>
2024-06-17 21:49:28,163 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x107a41940>
2024-06-17 21:49:28,163 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'id'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x109854990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:49:28,164 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10986be90>>
2024-06-17 21:49:28,164 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x107a1bce0>
2024-06-17 21:49:28,166 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:49:28,166 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124928Z

content-type;host;x-amz-date
7131f4a0e316578cee9685eadd98f5c32c31f85a313ec532c2d7ac589053a7cd
2024-06-17 21:49:28,166 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124928Z
20240617/ap-northeast-2/ec2/aws4_request
9d18006b2c5f7de8f25bcbe2f64093baeff379660ee240333da403358241c54d
2024-06-17 21:49:28,166 - DEBUG - auth.py:430 - Signature:
a724d6885f413a15ada03c4d83f3dd80b060a0354cd3c2ec432d8986ac70d066
2024-06-17 21:49:28,166 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x107a42160>
2024-06-17 21:49:28,167 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124928Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=a724d6885f413a15ada03c4d83f3dd80b060a0354cd3c2ec432d8986ac70d066', 'amz-sdk-invocation-id': b'3361ee06-0826-4ba7-a608-0842ec0b87b1', 'amz-sdk-request': b'attempt=1', 'Content-Length': '59'}>
2024-06-17 21:49:28,170 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (13 millis)
2024-06-17 21:49:28,171 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:49:28] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:49:28,173 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:49:28,174 - DEBUG - connectionpool.py:1055 - Starting new HTTPS connection (1): ec2.ap-northeast-2.amazonaws.com:443
2024-06-17 21:49:28,283 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-17 21:49:28,284 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': '887c477c-7ab5-4996-8562-a4154b58f490', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:49:27 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-17 21:49:28,284 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "id"</Message></Error></Errors><RequestID>887c477c-7ab5-4996-8562-a4154b58f490</RequestID></Response>'
2024-06-17 21:49:28,312 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1098d3b50>
2024-06-17 21:49:28,312 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:49:28,313 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: id | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "id"
2024-06-17 21:49:28,563 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '자신의 소유의 인스턴스만 시작할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:49:28,984 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:49:28 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '4759b93c427fc0416b5dac7b1108b946', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAw2FU2C6AtDnWLyhOYowAAADg', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '974', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-qpjfgxxz, envoy-edge-nrt-tvayflwm', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '214', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-vpqv', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718628568.812929","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718628568.812929","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"swWB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc790\uc2e0\uc758 \uc18c\uc720\uc758 \uc778\uc2a4\ud134\uc2a4\ub9cc \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:49:28,986 - INFO - app.py:139 - 자신의 소유가 아닌 인스턴스 `/start` 요청 | slack_id: U0752E0QWGM
2024-06-17 21:49:52,783 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2024-06-17 21:49:52,783 - DEBUG - app.py:506 - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2024-06-17 21:49:52,783 - DEBUG - app.py:506 - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2024-06-17 21:49:52,784 - DEBUG - app.py:506 - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2024-06-17 21:49:52,784 - DEBUG - app.py:506 - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2024-06-17 21:49:52,784 - DEBUG - app.py:533 - Checking listener: handle_stop_command ...
2024-06-17 21:49:52,784 - DEBUG - app.py:555 - Running listener: handle_stop_command ...
2024-06-17 21:49:52,785 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <bound method ParameterAlias.alias_parameter_in_call of <botocore.handlers.ParameterAlias object at 0x107a3fbd0>>
2024-06-17 21:49:52,785 - DEBUG - hooks.py:238 - Event before-parameter-build.ec2.DescribeInstances: calling handler <function generate_idempotent_uuid at 0x107a1be20>
2024-06-17 21:49:52,785 - DEBUG - regions.py:498 - Calling endpoint provider with parameters: {'Region': 'ap-northeast-2', 'UseDualStack': False, 'UseFIPS': False}
2024-06-17 21:49:52,785 - DEBUG - regions.py:513 - Endpoint provider result: https://ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:49:52,786 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function add_recursion_detection_header at 0x107a1af20>
2024-06-17 21:49:52,786 - DEBUG - hooks.py:238 - Event before-call.ec2.DescribeInstances: calling handler <function inject_api_version_header_if_needed at 0x107a41940>
2024-06-17 21:49:52,786 - DEBUG - endpoint.py:114 - Making request for OperationModel(name=DescribeInstances) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106'}, 'body': {'Action': 'DescribeInstances', 'Version': '2016-11-15', 'InstanceId.1': 'id'}, 'url': 'https://ec2.ap-northeast-2.amazonaws.com/', 'context': {'client_region': 'ap-northeast-2', 'client_config': <botocore.config.Config object at 0x109854990>, 'has_streaming_input': False, 'auth_type': None}}
2024-06-17 21:49:52,787 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10986be90>>
2024-06-17 21:49:52,787 - DEBUG - hooks.py:238 - Event choose-signer.ec2.DescribeInstances: calling handler <function set_operation_specific_signer at 0x107a1bce0>
2024-06-17 21:49:52,787 - DEBUG - auth.py:425 - Calculating signature using v4 auth.
2024-06-17 21:49:52,788 - DEBUG - auth.py:426 - CanonicalRequest:
POST
/

content-type:application/x-www-form-urlencoded; charset=utf-8
host:ec2.ap-northeast-2.amazonaws.com
x-amz-date:20240617T124952Z

content-type;host;x-amz-date
7131f4a0e316578cee9685eadd98f5c32c31f85a313ec532c2d7ac589053a7cd
2024-06-17 21:49:52,788 - DEBUG - auth.py:428 - StringToSign:
AWS4-HMAC-SHA256
20240617T124952Z
20240617/ap-northeast-2/ec2/aws4_request
19f7a27de96cee5dafd15d8360dc908ba2159b9e2cf0c66e62d6de5a22357b66
2024-06-17 21:49:52,788 - DEBUG - auth.py:430 - Signature:
767ca550d41655f9ff7ffbdf5f46020022bee0803c24329405c4141135c8e031
2024-06-17 21:49:52,788 - DEBUG - hooks.py:238 - Event request-created.ec2.DescribeInstances: calling handler <function add_retry_headers at 0x107a42160>
2024-06-17 21:49:52,788 - DEBUG - endpoint.py:265 - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ec2.ap-northeast-2.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'Boto3/1.34.106 md/Botocore#1.34.106 ua/2.0 os/macos#23.4.0 md/arch#arm64 lang/python#3.11.9 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.34.106', 'X-Amz-Date': b'20240617T124952Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA5WPIWOALX2HTZXYK/20240617/ap-northeast-2/ec2/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=767ca550d41655f9ff7ffbdf5f46020022bee0803c24329405c4141135c8e031', 'amz-sdk-invocation-id': b'90ad668a-6c60-45fb-8a56-a1599281903d', 'amz-sdk-request': b'attempt=1', 'Content-Length': '59'}>
2024-06-17 21:49:52,789 - DEBUG - httpsession.py:97 - Certificate path: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/certifi/cacert.pem
2024-06-17 21:49:52,789 - DEBUG - connectionpool.py:292 - Resetting dropped connection: ec2.ap-northeast-2.amazonaws.com
2024-06-17 21:49:52,797 - DEBUG - thread_runner.py:198 - Responding with status: 200 body: "" (12 millis)
2024-06-17 21:49:52,798 - INFO - _internal.py:97 - 127.0.0.1 - - [17/Jun/2024 21:49:52] "POST /slack/events HTTP/1.1" 200 -
2024-06-17 21:49:52,909 - DEBUG - connectionpool.py:549 - https://ec2.ap-northeast-2.amazonaws.com:443 "POST / HTTP/1.1" 400 None
2024-06-17 21:49:52,910 - DEBUG - parsers.py:240 - Response headers: {'x-amzn-RequestId': 'ec3766ad-4083-496c-baaa-6c12da77928b', 'Cache-Control': 'no-cache, no-store', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'vary': 'accept-encoding', 'Content-Type': 'text/xml;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 17 Jun 2024 12:49:52 GMT', 'Connection': 'close', 'Server': 'AmazonEC2'}
2024-06-17 21:49:52,910 - DEBUG - parsers.py:241 - Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Response><Errors><Error><Code>InvalidInstanceID.Malformed</Code><Message>Invalid id: "id"</Message></Error></Errors><RequestID>ec3766ad-4083-496c-baaa-6c12da77928b</RequestID></Response>'
2024-06-17 21:49:52,910 - DEBUG - hooks.py:238 - Event needs-retry.ec2.DescribeInstances: calling handler <botocore.retryhandler.RetryHandler object at 0x1098d3b50>
2024-06-17 21:49:52,911 - DEBUG - retryhandler.py:211 - No retry needed.
2024-06-17 21:49:52,911 - ERROR - aws_client.py:34 - 인스턴스 상태 정보 API 호출 실패 | 인스턴스 ID: id | An error occurred (InvalidInstanceID.Malformed) when calling the DescribeInstances operation: Invalid id: "id"
2024-06-17 21:49:52,987 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C0755B6UJG2', 'text': '인스턴스가 시작(running) 상태일 때만 중지할 수 있습니다.', 'team_id': 'T075J1BBB5F'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 21:49:53,369 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 12:49:53 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'c574411eba524e572e5a07998befa588', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAw8RbgFIUTm0ba9cc1GwAAECc', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1006', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-osdshkrp, envoy-edge-nrt-iuedkywt', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '237', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-sdpa', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C0755B6UJG2","ts":"1718628593.225429","message":{"user":"U075LFFAJPQ","type":"message","ts":"1718628593.225429","bot_id":"B075T4LPSG2","app_id":"A075VJ08SRJ","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc2dc\uc791(running) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","team":"T075J1BBB5F","bot_profile":{"id":"B075T4LPSG2","app_id":"A075VJ08SRJ","name":"YJ_AWS_Manager","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1717230428,"team_id":"T075J1BBB5F"},"blocks":[{"type":"rich_text","block_id":"JnjZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\uc778\uc2a4\ud134\uc2a4\uac00 \uc2dc\uc791(running) \uc0c1\ud0dc\uc77c \ub54c\ub9cc \uc911\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}]}]}]}}
2024-06-17 21:49:53,370 - INFO - app.py:67 - 시작 상태가 아닌 인스턴스 `/stop` 요청 | 인스턴스 상태: 
2024-06-17 22:01:16,161 - DEBUG - hooks.py:482 - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2024-06-17 22:01:16,163 - DEBUG - hooks.py:482 - Changing event name from before-call.apigateway to before-call.api-gateway
2024-06-17 22:01:16,164 - DEBUG - hooks.py:482 - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2024-06-17 22:01:16,165 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2024-06-17 22:01:16,165 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2024-06-17 22:01:16,166 - DEBUG - hooks.py:482 - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2024-06-17 22:01:16,166 - DEBUG - hooks.py:482 - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2024-06-17 22:01:16,168 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2024-06-17 22:01:16,168 - DEBUG - hooks.py:482 - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2024-06-17 22:01:16,169 - DEBUG - hooks.py:482 - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2024-06-17 22:01:16,169 - DEBUG - hooks.py:482 - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2024-06-17 22:01:16,171 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/endpoints.json
2024-06-17 22:01:16,178 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2024-06-17 22:01:16,178 - DEBUG - hooks.py:238 - Event choose-service-name: calling handler <function handle_service_name_alias at 0x107a42020>
2024-06-17 22:01:16,193 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/service-2.json.gz
2024-06-17 22:01:16,240 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/ec2/2016-11-15/endpoint-rule-set-1.json.gz
2024-06-17 22:01:16,241 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/partitions.json
2024-06-17 22:01:16,252 - DEBUG - hooks.py:238 - Event creating-client-class.ec2: calling handler <function add_generate_presigned_url at 0x10795eac0>
2024-06-17 22:01:16,253 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_service
2024-06-17 22:01:16,253 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: environment_global
2024-06-17 22:01:16,253 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_service
2024-06-17 22:01:16,253 - DEBUG - configprovider.py:948 - Looking for endpoint for ec2 via: config_global
2024-06-17 22:01:16,253 - DEBUG - configprovider.py:964 - No configured endpoint found.
2024-06-17 22:01:16,259 - DEBUG - endpoint.py:408 - Setting ec2 timeout as (60, 60)
2024-06-17 22:01:16,261 - DEBUG - loaders.py:180 - Loading JSON file: /Users/b04/.pyenv/versions/3.11.9/envs/pyenv_instance/lib/python3.11/site-packages/botocore/data/_retry.json
2024-06-17 22:01:16,261 - DEBUG - client.py:285 - Registering retry handlers for service: ec2
2024-06-17 22:01:16,321 - DEBUG - base_client.py:251 - Sending a request - url: https://www.slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.18.1 Python/3.11.9 slackclient/3.27.1 Darwin/23.4.0'}
2024-06-17 22:01:16,653 - DEBUG - base_client.py:542 - Received the following response - status: 200, headers: {'date': 'Mon, 17 Jun 2024 13:01:16 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '3be9e3d8d07fc7c660ffe7965f525f36', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'incoming-webhook,app_mentions:read,channels:history,chat:write,chat:write.customize,chat:write.public,commands,files:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'ZnAznL5Csok_6SNglAMbAgAAECA', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '203', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-canary-iad-ktndeakv, envoy-edge-nrt-nspnihgg', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '161', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-hoxa', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/devawsmanager.slack.com\/","team":"Dev AWS Manager","user":"jyawsmanager","team_id":"T075J1BBB5F","user_id":"U075LFFAJPQ","bot_id":"B075T4LPSG2","is_enterprise_install":false}
2024-06-17 22:01:16,746 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-17 22:01:16,747 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 10:48:44,347 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-21 10:48:44,347 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 12:32:41,577 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-21 12:32:41,578 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 12:32:45,110 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:32:45,110 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:32:45] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:33:00,722 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-21 12:33:00,722 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 12:33:05,735 - WARNING - thread_runner.py:167 - handle_policy_command didn't call ack()
2024-06-21 12:33:05,735 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:33:05,736 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:33:05] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:33:08,993 - WARNING - thread_runner.py:167 - handle_policy_command didn't call ack()
2024-06-21 12:33:08,993 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:33:08,995 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:33:08] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:33:12,140 - WARNING - thread_runner.py:167 - handle_policy_command didn't call ack()
2024-06-21 12:33:12,141 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:33:12,142 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:33:12] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:33:46,682 - WARNING - thread_runner.py:167 - handle_policy_command didn't call ack()
2024-06-21 12:33:46,683 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:33:46,684 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:33:46] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:33:50,478 - WARNING - thread_runner.py:167 - handle_policy_command didn't call ack()
2024-06-21 12:33:50,478 - WARNING - app.py:591 - Unhandled request ({'type': None, 'command': '/yj_policy'})
---
[Suggestion] You can handle this type of event with the following listener function:

@app.command("/yj_policy")
def handle_some_command(ack, body, logger):
    ack()
    logger.info(body)

2024-06-21 12:33:50,479 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:33:50] "[33mPOST /slack/events HTTP/1.1[0m" 404 -
2024-06-21 12:34:22,185 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-21 12:34:22,185 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 12:34:36,848 - INFO - _internal.py:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:4202
2024-06-21 12:34:36,848 - INFO - _internal.py:97 - [33mPress CTRL+C to quit[0m
2024-06-21 12:34:43,377 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:34:43] "POST /slack/events HTTP/1.1" 200 -
2024-06-21 12:34:45,537 - INFO - _internal.py:97 - 127.0.0.1 - - [21/Jun/2024 12:34:45] "POST /slack/events HTTP/1.1" 200 -
